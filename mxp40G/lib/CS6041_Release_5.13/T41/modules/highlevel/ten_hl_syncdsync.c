/***********************************************************************/
/* This file contains information proprietary to Cortina Systems, Inc. */
/* (Cortina). Any use or disclosure, in whole or in part, of this      */
/* information to any unauthorized party, for any purposes other than  */
/* that for which it is provided is expressly prohibited except as     */
/* authorized by Cortina in writing. Cortina reserves its rights to    */
/* pursue both civil and criminal penalties for copying or disclosure  */
/* of this material without authorization. Cortina Systems (R),        */
/* Cortina (TM) and the Cortina Systems Earth Logo are the trademarks  */
/* or registered trademarks of Cortina Systems, Inc. and its           */
/* subsidiaries in the U.S. and other countries. Any other product     */
/* and company names are the trademarks of their respective owners.    */
/* Copyright (C) 2006-2013 Cortina Systems, Inc. All rights reserved.  */
/***********************************************************************/
/*
 * ten_hl_syncdsync.c
 *
 * API's for SYNCDSYNC high level configuration.
 *
 * $Id: ten_hl_syncdsync.c,v 1.32 2013/12/02 18:12:03 jccarlis Exp $
 *
 */
 
#include "tenabo40.h"

/* Bugzilla #26154, compile issues */
cs_uint32 low_word, hi_word;

/* Bugzilla #20377, table additions, add FC modes */
const cs_uint16 ten_syncdesync_demap_table[TEN_SYNCDESYNC_DEMAP_MAX_PARM][TEN_SYNCDESYNC_DEMAP_MAX_MODE] = {
/*                                                       DISABLE                    1_to_1                     OC192_OTU3_10U_8           ODU2_OTU3_10P_8            10GE_OTU2ej_b              OC192_OTU3p_8              ODU2e_OTU3p_8              10GFC_OxU3_8               ODU1e_OxU3_8               10GE_OTU2ej                OTU1e_ODU1e                OC192_OTU3                 OC192_OTU3_10U             OPU2_OTU2                  ODU2_OTU3_10P              OC192_OTU3p                8GFC_OTU2e                 8GFC_ODU2                  10GEm_OTU2e                10GE_OTU2e                 10GE_ODU2ep                10GE_ODU1ep                10GE_ODU2fcp               10GE_ODU2p                 8GE_OTU2e                  ODU2_OTU2                  ODU1e_OTU2                 ODU2e_OTU2                 OC192_ODU2                 OC192_OTU2                 ODU2_OTU2_10U              10GFC_OTU2fc               ODU2_OTU3                  ODU2e_OTU3                 ODU2e_OTU3p                ODU1e_OxU3                 10GFC_OxU3                 10GFC_OTU2                 OTU3_ODU3                  OTU2ej_OC192               OTU3_ODU3_LS               ODU2_OTU3_NT               FC_TRANS_OTU3_NT           OTU2e_OTU3_NT              OC192_OTU2_10p             OC192_ODU3                 OTU3_OC768_26U             OTU3_OC768_26U_56          OTU2_GENRM_ODU3            ODU3_GENRM_OTU2            OTU2_OTU3                 8GFC_OTU                  8GFC_OTU_10U              10GFC_OTU2e               */
/*                                                       ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============              ============              ============              ============              */
/*                            CFG_MODE */  {                       0x0,                       0x0,                       0x3,                       0x2,                       0x0,                       0x3,                       0x3,                       0x3,                       0x2,                       0x0,                       0x0,                       0x3,                       0x3,                       0x0,                       0x2,                       0x3,                        00,                       0x3,                        00,                       0x0,                       0x2,                       0x2,                       0x2,                       0x0,                       0x0,                       0x0,                       0x0,                       0x0,                       0x0,                       0x0,                       0x0,                       0x0,                       0x2,                       0x2,                       0x3,                       0x2,                       0x3,                       0x0,                       0x1,                       0x0,                       0x1,                       0x2,                       0x2,                       0x2,                       0x0,                       0x2,                       0x1,                       0x1,                       0x0,                       0x0,                       0x2,                      0x0,                      0x0,                      0x0  },
/*                           AD21_AD21 */  {                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0002,                    0x002F,                    0x0000,                    0x0000,                    0x0000,                    0x0001,                    0x0000,                    0x0000,                    0x0000,                    0x0001,                    0x0000,                    0x0002,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0002,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0002,                    0x0000,                    0x008D,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x008D,                    0x0000,                    0x0000,                    0x0001,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                   0x0000,                   0x0000,                   0x0000  },
/*                           AD20_AD20 */  {                    0x0000,                    0x0001,                    0xEE0C,                    0x0018,                    0x0003,                    0xE5BB,                    0xC700,                    0x6B98,                    0x000C,                    0x1b12,                    0x0000,                    0xda00,                    0xEE04,                    0x0000,                    0x0008,                    0xda00,                    0x0001,                    0xa2b2,                    0x0001,                    0x0001,                    0xE907,                    0x000c,                    0xC700,                    0x0001,                    0x0001,                    0x0000,                    0x0001,                    0x0001,                    0x0001,                    0x0001,                    0x0001,                    0x0001,                    0x0008,                    0x0008,                    0xC700,                    0x000C,                    0xA500,                    0x0099,                    0x0001,                    0x0001,                    0x0001,                    0x0008,                    0xA500,                    0x000C,                    0x0001,                    0xda00,                    0x0001,                    0x0001,                    0x0001,                    0x0001,                    0x07F8,                   0x0003,                   0x0003,                   0x0001  },
/*                           AD11_AD11 */  {                    0x0000,                    0x0000,                    0x0005,                    0x0000,                    0x0000,                    0x0001,                    0x0002,                    0x008D,                    0x0000,                    0x0000,                    0x0000,                    0x0001,                    0x0001,                    0x0000,                    0x0000,                    0x0001,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0002,                    0x0002,                    0x0002,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0002,                    0x0000,                    0x008D,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x008D,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                   0x0000,                   0x0000,                   0x0000  },
/*                           AD10_AD10 */  {                    0x0000,                    0x0000,                    0x8E00,                    0x0000,                    0x0000,                    0xda00,                    0xC700,                    0xA500,                    0x0000,                    0x0000,                    0x0000,                    0xda00,                    0xDA00,                    0x0000,                    0x0000,                    0xda00,                    0x0000,                    0xca68,                    0x0000,                    0x0000,                    0xC700,                    0xB827,                    0xC700,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0xC700,                    0x0000,                    0xA500,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0xA500,                    0x000C,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                   0x0000,                   0x0000,                   0x0000  },
/*                           AC22_AC22 */  {                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x000B,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x000B,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x000B,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                   0x0000,                   0x0000,                   0x0000  },
/*                           AC21_AC21 */  {                    0x0000,                    0x0000,                    0x1E93,                    0x0000,                    0x0000,                    0x3b84,                    0x3b04,                    0xC1F2,                    0x0000,                    0x024f,                    0x0000,                    0x3b04,                    0x3D26,                    0x0000,                    0x0001,                    0x3b04,                    0x0000,                    0x3b84,                    0x0000,                    0x0000,                    0x3B04,                    0x0000,                    0x3B04,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x3b04,                    0x0000,                    0xc1F2,                    0x000C,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0xC1F2,                    0x0000,                    0x0000,                    0x3715,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x00FE,                   0x0000,                   0x0000,                   0x0000  },
/*                           AC20_AC20 */  {                    0x0000,                    0x0001,                    0x4000,                    0x8300,                    0x3fc0,                    0x4000,                    0xC000,                    0x4000,                    0x7f80,                    0x0900,                    0x0000,                    0xC000,                    0x8000,                    0x0000,                    0x0600,                    0xC000,                    0x3fc0,                    0x4000,                    0x3fc0,                    0x3fc0,                    0xC000,                    0xff00,                    0xC000,                    0x3fc0,                    0x3fc0,                    0x0000,                    0x3fc0,                    0x3fc0,                    0x3bc0,                    0x3fc0,                    0x4180,                    0x3fc0,                    0xff00,                    0xff00,                    0xC000,                    0xff00,                    0x4000,                    0xb340,                    0x3fc0,                    0x3fc0,                    0x3fc0,                    0xFF00,                    0x4000,                    0xFF00,                    0x4180,                    0x8000,                    0x0ff0,                    0x0ff0,                    0x3FFC,                    0x0001,                    0x0100,                   0x3FC0,                   0x4180,                   0x0001  },
/*                           AC12_AC12 */  {                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0005,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x000B,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x000B,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                   0x0000,                   0x0000,                   0x0000  },
/*                           AC11_AC11 */  {                    0x0000,                    0x0000,                    0x1E51,                    0x0000,                    0x0000,                    0x1d82,                    0x1d82,                    0xe0f9,                    0x0000,                    0x0000,                    0x0000,                    0x3b04,                    0x3CA3,                    0x0000,                    0x0000,                    0x3b04,                    0x0000,                    0x3267,                    0x0000,                    0x0000,                    0x3B04,                    0x0000,                    0x3B04,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x3b04,                    0x0000,                    0xc1F2,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0xC1F2,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                   0x0000,                   0x0000,                   0x0000  },
/*                           AC10_AC10 */  {                    0x0000,                    0x0000,                    0xC000,                    0x0000,                    0x0000,                    0x6000,                    0x6000,                    0x2000,                    0x0000,                    0x0000,                    0x0000,                    0xC000,                    0x8000,                    0x0000,                    0x0000,                    0xC000,                    0x0000,                    0x6600,                    0x0000,                    0x0000,                    0xC000,                    0xFF00,                    0xC000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0xC000,                    0x0000,                    0x4000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x4000,                    0xFF00,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                   0x0000,                   0x0000,                   0x0000  },
/*               NUMERATOR2_NUMERATOR2 */  {                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x000A,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x000A,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x000A,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                   0x0000,                   0x0000,                   0x0000  },
/*               NUMERATOR1_NUMERATOR1 */  {                    0x0000,                    0x0000,                    0x3717,                    0x0000,                    0x0000,                    0x352A,                    0x3716,                    0xF977,                    0x0000,                    0x0216,                    0x0000,                    0x3715,                    0x3715,                    0x0000,                    0x0000,                    0x352A,                    0x0000,                    0x2C73,                    0x0000,                    0x0000,                    0x35ED,                    0x0000,                    0x3702,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x3716,                    0x0000,                    0xF977,                    0x000B,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0xF960,                    0x0000,                    0x0000,                    0x3715,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x00ED,                   0x0000,                   0x0000,                   0x0000  },
/*               NUMERATOR0_NUMERATOR0 */  {                    0x0000,                    0x0001,                    0x5A00,                    0xEE08,                    0x3b41,                    0x9AC0,                    0x6d00,                    0xB700,                    0xED04,                    0xd9a4,                    0x00EF,                    0x8000,                    0x8000,                    0x3b80,                    0xEE00,                    0x9AC0,                    0x30d7,                    0x6BF4,                    0x3b41,                    0x3b40,                    0xF1C0,                    0xE809,                    0x0F00,                    0x3b40,                    0x30CC,                    0x3bc0,                    0x3bc0,                    0x3bc0,                    0x3b40,                    0x3b40,                    0x3bc0,                    0x3b40,                    0xEE00,                    0xEE00,                    0x6d00,                    0xED04,                    0xB700,                    0xCDF3,                    0x3b80,                    0x3930,                    0x3bc0,                    0xE5B7,                    0x1B80,                    0xEE04,                    0x3b40,                    0x8000,                    0x31FC,                    0x2D70,                    0x3BBC,                    0x0001,                    0x1200,                   0x329A,                   0x329A,                   0x2F37  },
/*           DENOMINATOR2_DENOMINATOR2 */  {                    0x0000,                    0x0000,                    0x000F,                    0x0000,                    0x0000,                    0x000e,                    0x000e,                    0x02e7,                    0x0000,                    0x0000,                    0x0000,                    0x000e,                    0x000F,                    0x0000,                    0x0000,                    0x000e,                    0x0000,                    0x000e,                    0x0000,                    0x0000,                    0x000e,                    0x0000,                    0x000e,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x000e,                    0x0000,                    0x02e7,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x02E7,                    0x0000,                    0x0000,                    0x000D,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                   0x0000,                   0x0000,                   0x0000  },
/*           DENOMINATOR1_DENOMINATOR1 */  {                    0x0000,                    0x0000,                    0x49A0,                    0x0041,                    0x000f,                    0xe110,                    0xe110,                    0xf520,                    0x003F,                    0x8fdb,                    0x0000,                    0xe110,                    0x49A0,                    0x000f,                    0x0041,                    0xe110,                    0x000f,                    0xe110,                    0x000f,                    0x000f,                    0xe110,                    0x003F,                    0xe110,                    0x000f,                    0x000f,                    0x000f,                    0x000f,                    0x000f,                    0x000f,                    0x000f,                    0x0010,                    0x000f,                    0x003F,                    0x003F,                    0xe110,                    0x003F,                    0xf520,                    0x031c,                    0x000f,                    0x000f,                    0x000f,                    0x003F,                    0xF520,                    0x003F,                    0x0010,                    0xF210,                    0x000F,                    0x000F,                    0x0007,                    0x0007,                    0x3B84,                   0x000F,                   0x0010,                   0x000C  },
/*           DENOMINATOR0_DENOMINATOR0 */  {                    0x0000,                    0x0040,                    0x0000,                    0x8000,                    0xF000,                    0x0000,                    0x0000,                    0x0000,                    0xC000,                    0x6000,                    0x3FC0,                    0x0000,                    0x0000,                    0xF000,                    0x8000,                    0x0000,                    0xF000,                    0x0000,                    0xF000,                    0xF000,                    0x0000,                    0xC000,                    0x0000,                    0xF000,                    0xF000,                    0xF000,                    0xF000,                    0xF000,                    0xF000,                    0xF000,                    0x6000,                    0xF000,                    0xc000,                    0xc000,                    0x0000,                    0xc000,                    0x0000,                    0xe000,                    0xF000,                    0xF000,                    0xFf00,                    0xC000,                    0x0000,                    0xC000,                    0x6000,                    0x0000,                    0xF000,                    0xF000,                    0xFF80,                    0x0020,                    0x4000,                   0xF000,                   0x6000,                   0x7380  } };

const cs_uint16 ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_MAX_PARM][TEN_SYNCDESYNC_MAP_MAX_MODE] = {
/*                                                       DISABLE                    1_to_1                     OC192_OTU3_10U_8           ODU2_OTU3_10P_8            10GE_OTU2ej_b              OC192_OTU3p_8              ODU2e_OTU3p_8              10GFC_OxU3_8               ODU1e_OxU3_8               10GE_OTU2ej                OTU1e_ODU1e                OC192_OTU3                 OC192_OTU3_10U             OPU2_OTU2                  ODU2_OTU3_10P              OC192_OTU3p                8GFC_OTU2e                 8GFC_ODU2                  10GEm_OTU2e                10GE_OTU2e                 10GE_ODU2ep                10GE_ODU1ep                10GE_ODU2fcp               10GE_ODU2p                 8GE_OTU2e                  ODU2_OTU2                  ODU1e_OTU2                 ODU2e_OTU2                 OC192_ODU2                 OC192_OTU2                 ODU2_OTU2_10U              10GFC_OTU2fc               ODU2_OTU3                  ODU2e_OTU3                 ODU2e_OTU3p                ODU1e_OxU3                 10GFC_OxU3                 10GFC_OTU2                 ODU3_OTU3                  OC192_OTU2ej               ODU3_OTU3_SL               ODU2_OTU3_NT               FC_TRANS_OTU3_NT           OTU2e_OTU3_NT              OC192_OTU2_10p             OC192_ODU3                 OTU3_OC768_26U             OTU3_OC768_26U_56          ODU3_GENRM_OTU2            OTU2_GENRM_ODU3            OTU2_OTU3                 8GFC_OTU                  8GFC_OTU_10U              10GFC_OTU2e               */
/*                                                       ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============               ============              ============              ============              ============              */
/*                            CFG_MODE */  {                       0x0,                       0x0,                       0x3,                       0x2,                       0x0,                       0x3,                       0x3,                       0x3,                       0x2,                       0x0,                       0x0,                       0x3,                       0x3,                       0x0,                       0x2,                       0x3,                       0x0,                       0x3,                       0x0,                       0x0,                       0x2,                       0x2,                       0x2,                       0x0,                       0x0,                       0x0,                       0x0,                       0x0,                       0x0,                       0x0,                       0x0,                       0x0,                       0x2,                       0x2,                       0x3,                       0x2,                       0x3,                       0x0,                       0x1,                       0x0,                       0x1,                       0x2,                       0x2,                       0x2,                       0x0,                       0x2,                       0x1,                       0x1,                       0x0,                       0x0,                       0x2,                      0x0,                      0x0,                      0x0  },
/*                  CFGPD0_DSYNC_PD_MD */  {                         0,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                         1,                        1,                        1,                        1  },
/*                           AD21_AD21 */  {                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0002,                    0x002F,                    0x0000,                    0x0000,                    0x0000,                    0x0001,                    0x0000,                    0x0000,                    0x0000,                    0x0001,                    0x0002,                    0x0002,                    0x0000,                    0x0000,                    0x0002,                    0x0000,                    0x0002,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0002,                    0x0000,                    0x008D,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x008D,                    0x0000,                    0x0000,                    0x0001,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                   0x0000,                   0x0000,                   0x0000  },
/*                           AD20_AD20 */  {                    0x0000,                    0x0001,                    0xEE0C,                    0x0018,                    0x0003,                    0xE5BB,                    0xC700,                    0x6B98,                    0x000C,                    0x1b12,                    0x0000,                    0xda00,                    0xEE04,                    0x0000,                    0x0008,                    0xda00,                    0xA2B2,                    0xa2b2,                    0x0001,                    0x0001,                    0xC700,                    0x000c,                    0xC700,                    0x0001,                    0x0001,                    0x0000,                    0x000C,                    0x0001,                    0x0001,                    0x0001,                    0x0001,                    0x0001,                    0x0008,                    0x0008,                    0xC700,                    0x000C,                    0xA500,                    0x0099,                    0x0001,                    0x0001,                    0x0001,                    0x0008,                    0xA500,                    0x000C,                    0x0001,                    0xda00,                    0x0001,                    0x0001,                    0x0001,                    0x0001,                    0x07F8,                   0x0003,                   0x0003,                   0x0001  },
/*                           AD11_AD11 */  {                    0x0000,                    0x0000,                    0x0005,                    0x0000,                    0x0000,                    0x0001,                    0x0002,                    0x008D,                    0x0000,                    0x0000,                    0x0000,                    0x0001,                    0x0001,                    0x0000,                    0x0000,                    0x0001,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0002,                    0x0002,                    0x0002,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0002,                    0x0000,                    0x008D,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x008D,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                   0x0000,                   0x0000,                   0x0000  },
/*                           AD10_AD10 */  {                    0x0000,                    0x0000,                    0x8E00,                    0x0000,                    0x0000,                    0xda00,                    0xC700,                    0xA500,                    0x0000,                    0x0000,                    0x0000,                    0xda00,                    0xDA00,                    0x0000,                    0x0000,                    0xda00,                    0xCA68,                    0xca68,                    0x0000,                    0x0000,                    0xC700,                    0xB827,                    0xC700,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0xC700,                    0x0000,                    0xA500,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0xA500,                    0x000C,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                   0x0001,                   0x0001,                   0x0000  },
/*                           AC22_AC22 */  {                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x000B,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x000B,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x000B,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                   0x0000,                   0x0000,                   0x0000  },
/*                           AC21_AC21 */  {                    0x0000,                    0x0000,                    0x1E93,                    0x0000,                    0x0000,                    0x3b84,                    0x3b04,                    0xC1F2,                    0x0000,                    0x024f,                    0x0000,                    0x3b84,                    0x3D26,                    0x0000,                    0x0001,                    0x3b84,                    0x3B84,                    0x3b84,                    0x0000,                    0x0000,                    0x3B04,                    0x0000,                    0x3B04,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x3b04,                    0x0000,                    0xc1F2,                    0x000C,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0xC1F2,                    0x0000,                    0x0000,                    0x3715,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x00FE,                   0x0000,                   0x0000,                   0x0000  },
/*                           AC20_AC20 */  {                    0x0000,                    0x0001,                    0x4000,                    0x8300,                    0x3fc0,                    0x4000,                    0xC000,                    0x4000,                    0x7f80,                    0x0900,                    0x0000,                    0x4000,                    0x8000,                    0x0000,                    0x0600,                    0x4000,                    0x4000,                    0x4000,                    0x3fc0,                    0x3fc0,                    0xC000,                    0xff00,                    0xC000,                    0x3fc0,                    0x3fc0,                    0x0000,                    0xff00,                    0x3fc0,                    0x3bc0,                    0x3fc0,                    0x4180,                    0x3fc0,                    0xff00,                    0xff00,                    0xC000,                    0xff00,                    0x4000,                    0xb340,                    0x3fc0,                    0x3fc0,                    0x3fc0,                    0xFF00,                    0x4000,                    0xFF00,                    0x4180,                    0x8000,                    0x0ff0,                    0x0ff0,                    0x0001,                    0x3ffc,                    0x0100,                   0x3FC0,                   0x4180,                   0x0001  },
/*                           AC12_AC12 */  {                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0005,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x000B,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x000B,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                   0x0000,                   0x0000,                   0x0000  },
/*                           AC11_AC11 */  {                    0x0000,                    0x0000,                    0x1E51,                    0x0000,                    0x0000,                    0x1d82,                    0x1d82,                    0xe0f9,                    0x0000,                    0x0000,                    0x0000,                    0x3b04,                    0x3CA3,                    0x0000,                    0x0000,                    0x3b04,                    0x3267,                    0x3267,                    0x0000,                    0x0000,                    0x3B04,                    0x0000,                    0x3B04,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x3b04,                    0x0000,                    0xc1F2,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0xC1F2,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                   0x0000,                   0x0000,                   0x0000  },
/*                           AC10_AC10 */  {                    0x0000,                    0x0000,                    0xC000,                    0x0000,                    0x0000,                    0x6000,                    0x6000,                    0x2000,                    0x0000,                    0x0000,                    0x0000,                    0xC000,                    0x8000,                    0x0000,                    0x0000,                    0xC000,                    0x6600,                    0x6600,                    0x0000,                    0x0000,                    0xC000,                    0xFF00,                    0xC000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0xC000,                    0x0000,                    0x4000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x4000,                    0xFF00,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                   0x0001,                   0x0001,                   0x0000  },
/*               NUMERATOR2_NUMERATOR2 */  {                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x000A,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x000A,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x000A,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                   0x0000,                   0x0000,                   0x0000  },
/*               NUMERATOR1_NUMERATOR1 */  {                    0x0000,                    0x0000,                    0x3717,                    0x0000,                    0x0000,                    0x352A,                    0x3716,                    0xF977,                    0x0000,                    0x0216,                    0x0000,                    0x3715,                    0x3715,                    0x0000,                    0x0000,                    0x352A,                    0x0000,                    0x2C73,                    0x0000,                    0x0000,                    0x35ED,                    0x0000,                    0x3702,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x3716,                    0x0000,                    0xF977,                    0x000B,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0xF960,                    0x0000,                    0x0000,                    0x3715,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x00ED,                   0x0000,                   0x0000,                   0x0000  },
/*               NUMERATOR0_NUMERATOR0 */  {                    0x0000,                    0x0001,                    0x5A00,                    0xEE08,                    0x3b41,                    0x9AC0,                    0x6d00,                    0xB700,                    0xED04,                    0xd9a4,                    0x00EF,                    0x8000,                    0x8000,                    0x3b80,                    0xEE00,                    0x9AC0,                    0x30d7,                    0x6BF4,                    0x3b41,                    0x3b40,                    0xF1C0,                    0xE809,                    0x0F00,                    0x3b40,                    0x30CC,                    0x3bc0,                    0xED04,                    0x3bc0,                    0x3b40,                    0x3b40,                    0x3bc0,                    0x3b40,                    0xEE00,                    0xEE00,                    0x6d00,                    0xED04,                    0xB700,                    0xCDF3,                    0x3b80,                    0x3930,                    0x3bc0,                    0xE5B7,                    0x1B80,                    0xEE04,                    0x3b40,                    0x8000,                    0x31FC,                    0x2D70,                    0x0001,                    0x3bbc,                    0x1200,                   0x329A,                   0x329A,                   0x2F37  },
/*           DENOMINATOR2_DENOMINATOR2 */  {                    0x0000,                    0x0000,                    0x000F,                    0x0000,                    0x0000,                    0x000e,                    0x000e,                    0x02e7,                    0x0000,                    0x0000,                    0x0000,                    0x000e,                    0x000F,                    0x0000,                    0x0000,                    0x000e,                    0x0000,                    0x000e,                    0x0000,                    0x0000,                    0x000e,                    0x0000,                    0x000e,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x000e,                    0x0000,                    0x02e7,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x02E7,                    0x0000,                    0x0000,                    0x000D,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                    0x0000,                   0x0000,                   0x0000,                   0x0000  },
/*           DENOMINATOR1_DENOMINATOR1 */  {                    0x0000,                    0x0000,                    0x49A0,                    0x0041,                    0x000f,                    0xe110,                    0xe110,                    0xf520,                    0x003F,                    0x8fdb,                    0x0000,                    0xe110,                    0x49A0,                    0x000f,                    0x0041,                    0xe110,                    0x000f,                    0xe110,                    0x000f,                    0x000f,                    0xe110,                    0x003F,                    0xe110,                    0x000f,                    0x000f,                    0x000f,                    0x000f,                    0x000f,                    0x000f,                    0x000F,                    0x0010,                    0x000F,                    0x003F,                    0x003F,                    0xe110,                    0x003f,                    0xf520,                    0x031C,                    0x000F,                    0x000F,                    0x000F,                    0x003F,                    0xF520,                    0x003F,                    0x0010,                    0xF210,                    0x000F,                    0x000F,                    0x003F,                    0x0007,                    0x3B84,                   0x000F,                   0x0010,                   0x000C  },
/*           DENOMINATOR0_DENOMINATOR0 */  {                    0x0000,                    0x0040,                    0x0000,                    0x8000,                    0xF000,                    0x0000,                    0x0000,                    0x0000,                    0xC000,                    0x6000,                    0x3FC0,                    0x0000,                    0x0000,                    0xF000,                    0x8000,                    0x0000,                    0xF000,                    0x0000,                    0xF000,                    0xF000,                    0x0000,                    0xc000,                    0x0000,                    0xF000,                    0xF000,                    0xF000,                    0xF000,                    0xF000,                    0xF000,                    0xF000,                    0x6000,                    0xF000,                    0xC000,                    0xC000,                    0x0000,                    0xc000,                    0x0000,                    0xE000,                    0xF000,                    0xF000,                    0xF000,                    0xC000,                    0x0000,                    0xC000,                    0x6000,                    0x0000,                    0xF000,                    0xF000,                    0x0020,                    0xFF80,                    0x4000,                   0xF000,                   0x6000,                   0x7380  },
/*              CFGJCGEN_JC_GEN_MAX_JP */  {                       0x0,                       0x1,                       0x6,                       0x6,                       0x3,                       0x2,                       0x3,                       0x3,                       0x3,                       0x3,                       0x1,                       0x2,                       0x2,                       0x1,                       0x2,                       0x2,                       0x3,                       0x3,                       0x3,                       0x1,                       0x3,                       0x3,                       0x3,                       0x1,                       0x1,                       0x1,                       0x1,                       0x1,                       0x1,                       0x1,                       0x1,                       0x1,                       0x2,                       0x2,                       0x3,                       0x3,                       0x3,                       0x3,                       0x1,                       0x1,                       0x1,                       0x3,                       0x3,                       0x3,                       0x1,                       0x2,                       0x1,                       0x1,                       0x3,                       0x3,                       0x2,                      0x3,                      0x3,                      0x1  },
/*               CFGJCGEN_JC_GEN_THRLD */  {                       0x0,                     0x020,                     0x010,                     0x010,                     0x01A,                     0x020,                     0x01A,                     0x01A,                     0x01A,                     0x01A,                     0x02b,                     0x020,                     0x020,                     0x02b,                     0x020,                     0x020,                     0x01A,                     0x01A,                     0x01A,                     0x02b,                     0x01A,                     0x01A,                     0x01A,                     0x02b,                     0x02b,                     0x02b,                     0x02b,                     0x02b,                     0x02b,                     0x02b,                     0x02b,                     0x02b,                     0x020,                     0x020,                     0x01A,                     0x01A,                     0x01A,                     0x01A,                     0x02b,                     0x02b,                     0x02b,                     0x01A,                     0x01A,                     0x01A,                     0x02b,                     0x020,                     0x02b,                     0x02b,                     0x01A,                     0x01A,                     0x020,                    0x02B,                    0x02B,                    0x020  } };

const cs_char8 *ten_syncdesync_demap_debug_str[TEN_SYNCDESYNC_DEMAP_MAX_MODE] = {
  "TEN_SYNCDESYNC_DEMAP_DISABLE",
  "TEN_SYNCDESYNC_DEMAP_1_TO_1",
  "TEN_SYNCDESYNC_DEMAP_OC192_OTU3_10U_8",
  "TEN_SYNCDESYNC_DEMAP_ODU2_OTU3_10P_8",
  "TEN_SYNCDESYNC_DEMAP_10GE_OTU2EJ_B",
  "TEN_SYNCDESYNC_DEMAP_OC192_OTU3P_8",
  "TEN_SYNCDESYNC_DEMAP_ODU2E_OTU3P_8",
  "TEN_SYNCDESYNC_DEMAP_10GFC_OXU3_8",
  "TEN_SYNCDESYNC_DEMAP_ODU1E_OXU3_8",
  "TEN_SYNCDESYNC_DEMAP_10GE_OTU2EJ",
  "TEN_SYNCDESYNC_DEMAP_OTU1E_ODU1E",
  "TEN_SYNCDESYNC_DEMAP_OC192_OTU3",
  "TEN_SYNCDESYNC_DEMAP_OC192_OTU3_10U",
  "TEN_SYNCDESYNC_DEMAP_OPU2_OTU2",
  "TEN_SYNCDESYNC_DEMAP_ODU2_OTU3_10P",
  "TEN_SYNCDESYNC_DEMAP_OC192_OTU3P",
  "TEN_SYNCDESYNC_DEMAP_8GFC_OTU2E",
  "TEN_SYNCDESYNC_DEMAP_8GFC_ODU2",
  "TEN_SYNCDESYNC_DEMAP_10GEM_OTU2E",
  "TEN_SYNCDESYNC_DEMAP_10GE_OTU2E",
  "TEN_SYNCDESYNC_DEMAP_10GE_ODU2EP",
  "TEN_SYNCDESYNC_DEMAP_10GE_ODU1EP",
  "TEN_SYNCDESYNC_DEMAP_10GE_ODU2FCP",
  "TEN_SYNCDESYNC_DEMAP_10GE_ODU2P",
  "TEN_SYNCDESYNC_DEMAP_8GE_OTU2E",
  "TEN_SYNCDESYNC_DEMAP_ODU2_OTU2",
  "TEN_SYNCDESYNC_DEMAP_ODU1E_OTU2",
  "TEN_SYNCDESYNC_DEMAP_ODU2E_OTU2",
  "TEN_SYNCDESYNC_DEMAP_OC192_ODU2",
  "TEN_SYNCDESYNC_DEMAP_OC192_OTU2",
  "TEN_SYNCDESYNC_DEMAP_ODU2_OTU2_10U",
  "TEN_SYNCDESYNC_DEMAP_10GFC_OTU2FC",
  "TEN_SYNCDESYNC_DEMAP_ODU2_OTU3",
  "TEN_SYNCDESYNC_DEMAP_ODU2E_OTU3",
  "TEN_SYNCDESYNC_DEMAP_ODU2E_OTU3P",
  "TEN_SYNCDESYNC_DEMAP_ODU1E_OXU3",
  "TEN_SYNCDESYNC_DEMAP_10GFC_OXU3",
  "TEN_SYNCDESYNC_DEMAP_10GFC_OTU2",
  "TEN_SYNCDESYNC_DEMAP_OTU3_ODU3",
  "TEN_SYNCDESYNC_DEMAP_OTU2EJ_OC192",
  "TEN_SYNCDESYNC_DEMAP_OTU3_ODU3_LS",
  "TEN_SYNCDESYNC_DEMAP_ODU2_OTU3_NT",
  "TEN_SYNCDESYNC_DEMAP_FC_TRANS_OTU3_NT",
  "TEN_SYNCDESYNC_DEMAP_OTU2E_OTU3_NT",
  "TEN_SYNCDESYNC_DEMAP_OC192_OTU2_10P",
  "TEN_SYNCDESYNC_DEMAP_OC192_ODU3",
  "TEN_SYNCDESYNC_DEMAP_OTU3_OC768_26U",
  "TEN_SYNCDESYNC_DEMAP_OTU3_OC768_26U_56",
  "TEN_SYNCDESYNC_DEMAP_OTU2_GENRM_ODU3",
  "TEN_SYNCDESYNC_DEMAP_ODU3_GENRM_OTU2",
  "TEN_SYNCDESYNC_DEMAP_OTU2_OTU3", 
  /* Bugzilla #20377, add FC modes */
  "TEN_SYNCDESYNC_DEMAP_8GFC_OTU2",
  "TEN_SYNCDESYNC_DEMAP_8GFC_OTU_10U",
  "TEN_SYNCDESYNC_DEMAP_10GFC_OTU2E"
};

const cs_char8 *ten_syncdesync_map_debug_str[TEN_SYNCDESYNC_MAP_MAX_MODE] = {
  "TEN_SYNCDESYNC_MAP_DISABLE",
  "TEN_SYNCDESYNC_MAP_1_TO_1",
  "TEN_SYNCDESYNC_MAP_OC192_OTU3_10U_8",
  "TEN_SYNCDESYNC_MAP_ODU2_OTU3_10P_8",
  "TEN_SYNCDESYNC_MAP_10GE_OTU2EJ_B",
  "TEN_SYNCDESYNC_MAP_OC192_OTU3P_8",
  "TEN_SYNCDESYNC_MAP_ODU2E_OTU3P_8",
  "TEN_SYNCDESYNC_MAP_10GFC_OXU3_8",
  "TEN_SYNCDESYNC_MAP_ODU1E_OXU3_8",
  "TEN_SYNCDESYNC_MAP_10GE_OTU2EJ",
  "TEN_SYNCDESYNC_MAP_OTU1E_ODU1E",
  "TEN_SYNCDESYNC_MAP_OC192_OTU3",
  "TEN_SYNCDESYNC_MAP_OC192_OTU3_10U",
  "TEN_SYNCDESYNC_MAP_OPU2_OTU2",
  "TEN_SYNCDESYNC_MAP_ODU2_OTU3_10P",
  "TEN_SYNCDESYNC_MAP_OC192_OTU3P",
  "TEN_SYNCDESYNC_MAP_8GFC_OTU2E",
  "TEN_SYNCDESYNC_MAP_8GFC_ODU2",
  "TEN_SYNCDESYNC_MAP_10GEM_OTU2E",
  "TEN_SYNCDESYNC_MAP_10GE_OTU2E",
  "TEN_SYNCDESYNC_MAP_10GE_ODU2EP",
  "TEN_SYNCDESYNC_MAP_10GE_ODU1EP",
  "TEN_SYNCDESYNC_MAP_10GE_ODU2FCP",
  "TEN_SYNCDESYNC_MAP_10GE_ODU2P",
  "TEN_SYNCDESYNC_MAP_8GE_OTU2E",
  "TEN_SYNCDESYNC_MAP_ODU2_OTU2",
  "TEN_SYNCDESYNC_MAP_ODU1E_OTU2",
  "TEN_SYNCDESYNC_MAP_ODU2E_OTU2",
  "TEN_SYNCDESYNC_MAP_OC192_ODU2",
  "TEN_SYNCDESYNC_MAP_OC192_OTU2",
  "TEN_SYNCDESYNC_MAP_ODU2_OTU2_10U",
  "TEN_SYNCDESYNC_MAP_10GFC_OTU2FC",
  "TEN_SYNCDESYNC_MAP_ODU2_OTU3",
  "TEN_SYNCDESYNC_MAP_ODU2E_OTU3",
  "TEN_SYNCDESYNC_MAP_ODU2E_OTU3P",
  "TEN_SYNCDESYNC_MAP_ODU1E_OXU3",
  "TEN_SYNCDESYNC_MAP_10GFC_OXU3",
  "TEN_SYNCDESYNC_MAP_10GFC_OTU2",
  "TEN_SYNCDESYNC_MAP_ODU3_OTU3",
  "TEN_SYNCDESYNC_MAP_OC192_OTU2EJ",
  "TEN_SYNCDESYNC_MAP_ODU3_OTU3_SL",
  "TEN_SYNCDESYNC_MAP_ODU2_OTU3_NT",
  "TEN_SYNCDESYNC_MAP_FC_TRANS_OTU3_NT",
  "TEN_SYNCDESYNC_MAP_OTU2E_OTU3_NT",
  "TEN_SYNCDESYNC_MAP_OC192_OTU2_10P",
  "TEN_SYNCDESYNC_MAP_OC192_ODU3",
  "TEN_SYNCDESYNC_MAP_OTU3_OC768_26U",
  "TEN_SYNCDESYNC_MAP_OTU3_OC768_26U_56",
  "TEN_SYNCDESYNC_MAP_ODU3_GENRM_OTU2",
  "TEN_SYNCDESYNC_MAP_OTU2_GENRM_ODU3",
  "TEN_SYNCDESYNC_MAP_OTU2_OTU3",
  /* Bugzilla #20377, add FC modes */
  "TEN_SYNCDESYNC_MAP_8GFC_OTU2",
  "TEN_SYNCDESYNC_MAP_8GFC_OTU_10U",
  "TEN_SYNCDESYNC_MAP_10GFC_OTU2E"
};

/********************************************************************/                                                                                                       
/* $rtn_hdr_start  SYNCDSYNC RESET                                  */
/* CATEGORY   : API                                                 */
/* ACCESS     : Public                                              */
/* BLOCK      : HIGH LEVEL                                          */
/* CHIP       : Tenabo                                              */
cs_status ten_hl_syncdsync_reset(cs_uint16 module_id,
                               cs_uint8 slice)
/* INPUTS     : o Module Id                                         */
/*              o Slice                                             */
/* OUTPUTS    : ----                                                */
/* RETURNS    : CS_OK or CS_ERROR                                   */
/* DESCRIPTION:                                                     */
/* Resets the SYNCDSYNC block.                                      */
/*                                                                  */
/*   [slice]  Specified as TEN_SLICE0 (0), TEN_SLICE1 (1),          */
/*     TEN_SLICE2 (2), TEN_SLICE3 (3) or TEN_SLICE_ALL (0xFF)       */
/*                                                                  */
/* $rtn_hdr_end                                                     */
/********************************************************************/
{
  cs_status rtn = CS_OK;

  CS_PRINT("ten_hl_syncdsync_reset\n");;

  rtn = ten_syncdsyncrx_control_sreset(module_id, slice, CS_RESET_TOGGLE);
  /* Bugzilla #28471, minimum delay */
  TEN_MDELAY(6);
  if (rtn == CS_OK) {
    rtn = ten_syncdsynctx_control_sreset(module_id, slice, CS_RESET_TOGGLE);
  }
  return (rtn);
}

/********************************************************************/                                                                                                       
/* $rtn_hdr_start  SYNCDSYNC CONFIG                                 */
/* CATEGORY   : API                                                 */
/* ACCESS     : Public                                              */
/* BLOCK      : HIGH LEVEL                                          */
/* CHIP       : Tenabo                                              */
cs_status ten_hl_syncdsync_config(cs_uint16 module_id,
                                  cs_uint8 slice, 
                                  cs_uint16 mode_rx, 
                                  cs_uint16 mode_tx, 
                                  cs_uint16 rx_div_mux)
/* INPUTS     : o Module Id                                         */
/*              o Slice                                             */
/*              o Mode RX                                           */
/*              o Mode TX                                           */
/*              o RX Div Mux                                        */
/* OUTPUTS    : ----                                                */
/* RETURNS    : CS_OK or CS_ERROR                                   */
/* DESCRIPTION:                                                     */
/* Configures a SYNCDSYNC transmit/receive path.                    */
/*                                                                  */
/*   [slice]  Specified as TEN_SLICE0 (0), TEN_SLICE1 (1),          */
/*     TEN_SLICE2 (2), TEN_SLICE3 (3) or TEN_SLICE_ALL (0xFF)       */
/*                                                                  */
/*   [mode_rx]  'mode' parameter for ten_hl_pp10g_rx_init, e.g.     */
/*               TEN_SYNCDESYNC_DEMAP_OC192_OTU3                    */
/*               TEN_SYNCDESYNC_DEMAP_1_TO_1                        */
/*                                                                  */
/*   [mode_tx]  'mode' parameter for ten_hl_pp10g_tx_init, e.g.     */
/*               TEN_SYNCDESYNC_MAP_OC192_OTU3                      */
/*               TEN_SYNCDESYNC_MAP_1_TO_1                          */
/*                                                                  */
/*   [rx_div_mux]                                                   */
/*     8:1 multiplexer pairs the selected Rx divided clock with     */
/*     the Tx:                                                      */
/*     000 = A side #1                                              */
/*     001 = A side #2                                              */
/*     010 = A side #3                                              */
/*     011 = A side #4                                              */
/*     100 = B side #1                                              */
/*     101 = B side #2                                              */
/*     110 = B side #3                                              */
/*     111 = B side #4                                              */
/*                                                                  */
/* $rtn_hdr_end                                                     */
/********************************************************************/
{
  cs_status rtn = CS_OK;
  
  rtn |= ten_hl_syncdsync_demap(module_id, slice, mode_rx);
  rtn |= ten_hl_syncdsync_map(module_id, slice, mode_tx);
  rtn |= ten_syncdsynctx_set_configuration_rx_div_mux(module_id, slice, rx_div_mux);
 
 return (rtn);
}

/********************************************************************/
/*                                                                  */
/*  COMMON SYNCDSYNC DEMAP ROUTINE                                  */
/*                                                                  */
/********************************************************************/
cs_status ten_hl_syncdsync_demap_internal(cs_uint16 module_id,
                                 cs_uint8 slice,
                                 cs_uint16 mode,
                                 cs_uint16 k)
{
  cs_status rtn = CS_OK;
  cs_uint16 denom2;
  cs_uint16 denom1;
  cs_uint16 denom0;
  cs_uint16 num_shifts = 0;
  cs_uint16 ii;
  cs_uint16 temp_dev_id;
  cs_uint16 temp_mod_num;

  CS_PRINT("ten_hl_SYNCDESYNC_DEMAP, slice=%d\n", slice);

  /* Assert hard reset */
  temp_dev_id  = TEN_MOD_ID_TO_DEV_ID(module_id);
  temp_mod_num = TEN_MOD_ID_TO_MOD_NUM(module_id);
  ten_mpif_global_reset_syncdsync(temp_dev_id, temp_mod_num, slice, CS_RX, CS_RESET_ASSERT);
  if (mode == TEN_SYNCDESYNC_DEMAP_DISABLE) {
    goto RTN_EXIT;
  } 

  /* Remove hard reset */
  ten_mpif_global_reset_syncdsync(temp_dev_id, temp_mod_num, slice, CS_RX, CS_RESET_DEASSERT);
 
  if (mode >= TEN_SYNCDESYNC_DEMAP_MAX_MODE) {
    CS_HNDL_ERROR(module_id, ETEN_MOD_INVALID_USER_ARG, ":  Invalid Mode.");
    rtn = CS_ERROR;
    goto RTN_EXIT;
  }

  if ( (k !=   2) && (k !=   4) && (k !=   8) && (k !=  16) && 
       (k !=  32) && (k !=  64) && (k != 128) && (k != 256) ) { 
    CS_HNDL_ERROR(module_id, ETEN_MOD_INVALID_USER_ARG, ":  k parameter out of range.");
    rtn = CS_ERROR;
    goto RTN_EXIT;
  }
  
  denom2 = ten_syncdesync_demap_table[TEN_SYNCDESYNC_DEMAP_DENOMINATOR2_DENOMINATOR2][mode];
  denom1 = ten_syncdesync_demap_table[TEN_SYNCDESYNC_DEMAP_DENOMINATOR1_DENOMINATOR1][mode];
  denom0 = ten_syncdesync_demap_table[TEN_SYNCDESYNC_DEMAP_DENOMINATOR0_DENOMINATOR0][mode]; 
  
  if (k != 64) {
    CS_PRINT("Alternate k value selected, denom before = 0x%04X %04X %04X\n", denom2, denom1, denom0);

    if (k < 64) {
      switch (k) {
      case (32):
       num_shifts = 1;
       break;
      case (16):
       num_shifts = 2;
       break;       
      case (8):
       num_shifts = 3;
       break; 
      case (4):
       num_shifts = 4;
       break;       
      case (2):
       num_shifts = 5;
       break;  
      default:
       num_shifts = 0;
      }   
       
      for (ii=0; ii<num_shifts; ii++) {  
        denom0 >>= 1;
        if (denom1 & 0x0001) {
          denom0 |= 0x8000;
        }
        denom1 >>= 1;
        if (denom2 & 0x0001) {
          denom1 |= 0x8000;
        }
        denom2 >>= 1;
      }
    }
    else { /* k > 64 */
      switch (k) {
      case (128):
        num_shifts = 1;
        break;
      case (256):
        num_shifts = 2;
        break;       
      default:
        num_shifts = 0;
      }   
       
      for (ii=0; ii<num_shifts; ii++) {  
        /* multiply by 2 and or in shifts */
        denom2 <<= 1;
        if (denom1 & 0x8000) {
          denom2 |= 0x0001;
        }
        denom1 <<= 1;
        if (denom0 & 0x8000) {
          denom1 |= 0x0001;
        }
        denom0 <<= 1;
      }
    }
    CS_PRINT("Alternate k value, denom after =  0x%04X %04X %04X\n", denom2, denom1, denom0);
  }  
  
  CS_PRINT("mode = (%d) %s\n", mode, ten_syncdesync_demap_debug_str[mode]);
  
  CS_PRINT("CFG_MODE                       = 0x%04X\n", ten_syncdesync_demap_table[TEN_SYNCDESYNC_DEMAP_CFG_MODE][mode]);
  CS_PRINT("AD21_AD21                      = 0x%04X\n", ten_syncdesync_demap_table[TEN_SYNCDESYNC_DEMAP_AD21_AD21][mode]);
  CS_PRINT("AD20_AD20                      = 0x%04X\n", ten_syncdesync_demap_table[TEN_SYNCDESYNC_DEMAP_AD20_AD20][mode]);
  CS_PRINT("AD11_AD11                      = 0x%04X\n", ten_syncdesync_demap_table[TEN_SYNCDESYNC_DEMAP_AD11_AD11][mode]);
  CS_PRINT("AD10_AD10                      = 0x%04X\n", ten_syncdesync_demap_table[TEN_SYNCDESYNC_DEMAP_AD10_AD10][mode]);
  CS_PRINT("AC22_AC22                      = 0x%04X\n", ten_syncdesync_demap_table[TEN_SYNCDESYNC_DEMAP_AC22_AC22][mode]);
  CS_PRINT("AC21_AC21                      = 0x%04X\n", ten_syncdesync_demap_table[TEN_SYNCDESYNC_DEMAP_AC21_AC21][mode]);
  CS_PRINT("AC20_AC20                      = 0x%04X\n", ten_syncdesync_demap_table[TEN_SYNCDESYNC_DEMAP_AC20_AC20][mode]);
  CS_PRINT("AC12_AC12                      = 0x%04X\n", ten_syncdesync_demap_table[TEN_SYNCDESYNC_DEMAP_AC12_AC12][mode]);
  CS_PRINT("AC11_AC11                      = 0x%04X\n", ten_syncdesync_demap_table[TEN_SYNCDESYNC_DEMAP_AC11_AC11][mode]);
  CS_PRINT("AC10_AC10                      = 0x%04X\n", ten_syncdesync_demap_table[TEN_SYNCDESYNC_DEMAP_AC10_AC10][mode]);
  CS_PRINT("NUMERATOR2_NUMERATOR2          = 0x%04X\n", ten_syncdesync_demap_table[TEN_SYNCDESYNC_DEMAP_NUMERATOR2_NUMERATOR2][mode]);
  CS_PRINT("NUMERATOR1_NUMERATOR1          = 0x%04X\n", ten_syncdesync_demap_table[TEN_SYNCDESYNC_DEMAP_NUMERATOR1_NUMERATOR1][mode]);
  CS_PRINT("NUMERATOR0_NUMERATOR0          = 0x%04X\n", ten_syncdesync_demap_table[TEN_SYNCDESYNC_DEMAP_NUMERATOR0_NUMERATOR0][mode]);
  CS_PRINT("DENOMINATOR2_DENOMINATOR2      = 0x%04X\n", denom2);
  CS_PRINT("DENOMINATOR1_DENOMINATOR1      = 0x%04X\n", denom1);
  CS_PRINT("DENOMINATOR0_DENOMINATOR0      = 0x%04X\n", denom0);
  CS_PRINT("k                              = %6d\n", k);
  
  CS_PRINT("Provision SYNCDSYNC Demap...\n");
  
  /* Assert block-level reset */
  rtn = ten_syncdsyncrx_control_sreset(module_id, slice, CS_RESET_ASSERT);
  if (rtn != CS_OK) {
    goto RTN_EXIT;
  }
  
  rtn = ten_syncdsyncrx_set_mode(module_id, slice, 
                                 ten_syncdesync_demap_table[TEN_SYNCDESYNC_DEMAP_CFG_MODE][mode]);
  if (rtn != CS_OK) {
    goto RTN_EXIT;
  }
    
  rtn = ten_syncdsyncrx_set_denominator(module_id, slice, 
                                        denom2,
                                        denom1,
                                        denom0);
  if (rtn != CS_OK) {
    goto RTN_EXIT;
  }
  
  rtn = ten_syncdsyncrx_set_numerator(module_id, slice, 
                                          ten_syncdesync_demap_table[TEN_SYNCDESYNC_DEMAP_NUMERATOR2_NUMERATOR2][mode],
                                          ten_syncdesync_demap_table[TEN_SYNCDESYNC_DEMAP_NUMERATOR1_NUMERATOR1][mode],
                                          ten_syncdesync_demap_table[TEN_SYNCDESYNC_DEMAP_NUMERATOR0_NUMERATOR0][mode]);
  if (rtn != CS_OK) {
    goto RTN_EXIT;
  }
  
  rtn = ten_syncdsyncrx_set_ac1(module_id, slice, 
                                 ten_syncdesync_demap_table[TEN_SYNCDESYNC_DEMAP_AC12_AC12][mode],
                                 ten_syncdesync_demap_table[TEN_SYNCDESYNC_DEMAP_AC11_AC11][mode],
                                 ten_syncdesync_demap_table[TEN_SYNCDESYNC_DEMAP_AC10_AC10][mode]);
  if (rtn != CS_OK) {
    goto RTN_EXIT;
  }
  
  rtn = ten_syncdsyncrx_set_ac2(module_id, slice, 
                                    ten_syncdesync_demap_table[TEN_SYNCDESYNC_DEMAP_AC22_AC22][mode], 
                                    ten_syncdesync_demap_table[TEN_SYNCDESYNC_DEMAP_AC21_AC21][mode], 
                                    ten_syncdesync_demap_table[TEN_SYNCDESYNC_DEMAP_AC20_AC20][mode]);
  if (rtn != CS_OK) {
    goto RTN_EXIT;
  }

  rtn = ten_syncdsyncrx_set_ad1(module_id, slice, 
                                    ten_syncdesync_demap_table[TEN_SYNCDESYNC_DEMAP_AD11_AD11][mode],
                                    ten_syncdesync_demap_table[TEN_SYNCDESYNC_DEMAP_AD10_AD10][mode]);
  if (rtn != CS_OK) {
    goto RTN_EXIT;
  }
  
  rtn = ten_syncdsyncrx_set_ad2(module_id, slice, 
                                    ten_syncdesync_demap_table[TEN_SYNCDESYNC_DEMAP_AD21_AD21][mode],
                                    ten_syncdesync_demap_table[TEN_SYNCDESYNC_DEMAP_AD20_AD20][mode]);
         
  CS_PRINT("SYNCDSYNC Demap Provisioning Complete.\n");

RTN_EXIT: 
  if (rtn != CS_OK) {
    CS_HNDL_ERROR(module_id, ETEN_MOD_INVALID_OP, 
    "Failure during SYNCDSYNC Demap Provisioning!\n");
  }
  return (rtn);                                  
}

/***************************************************************/
/* $rtn_hdr_start  SYNCDSYNC DEMAP                             */
/* CATEGORY   : API                                            */
/* ACCESS     : Public                                         */
/* BLOCK      : HIGH LEVEL                                     */
/* CHIP       : Tenabo                                         */
cs_status ten_hl_syncdsync_demap(cs_uint16 module_id,
                                 cs_uint8 slice,
                                 cs_uint16 mode)
/* INPUTS     : o Module Id                                     */
/*              o Slice                                         */
/*              o Mode                                          */
/* OUTPUTS    : ----                                            */
/* RETURNS    : CS_OK or CS_ERROR                               */
/* DESCRIPTION:                                                 */
/* Programs the various SYNCDSYNC demap parameters based on     */
/* mode.                                                        */
/*                                                              */
/* [slice]  Specified as TEN_SLICE0 (0), TEN_SLICE1 (1),        */
/*     TEN_SLICE2 (2), TEN_SLICE3 (3) or TEN_SLICE_ALL (0xFF)   */
/*                                                              */
/* The [mode] parameter is specified as:                        */
/*   TEN_SYNCDESYNC_DEMAP_DISABLE                  = 0,         */
/*   TEN_SYNCDESYNC_DEMAP_1_TO_1                   = 1,         */
/*   TEN_SYNCDESYNC_DEMAP_OC192_OTU3_10U_8         = 2,         */
/*   TEN_SYNCDESYNC_DEMAP_ODU2_OTU3_10P_8          = 3,         */
/*   TEN_SYNCDESYNC_DEMAP_10GE_OTU2EJ_B            = 4,         */
/*   TEN_SYNCDESYNC_DEMAP_OC192_OTU3P_8            = 5,         */
/*   TEN_SYNCDESYNC_DEMAP_ODU2E_OTU3P_8            = 6,         */
/*   TEN_SYNCDESYNC_DEMAP_10GFC_OXU3_8             = 7,         */
/*   TEN_SYNCDESYNC_DEMAP_ODU1E_OXU3_8             = 8,         */
/*   TEN_SYNCDESYNC_DEMAP_10GE_OTU2EJ              = 9,         */
/*   TEN_SYNCDESYNC_DEMAP_OTU1E_ODU1E              = 10,        */
/*   TEN_SYNCDESYNC_DEMAP_OC192_OTU3               = 11,        */
/*   TEN_SYNCDESYNC_DEMAP_OC192_OTU3_10U           = 12,        */
/*   TEN_SYNCDESYNC_DEMAP_OPU2_OTU2                = 13,        */
/*   TEN_SYNCDESYNC_DEMAP_ODU2_OTU3_10P            = 14,        */
/*   TEN_SYNCDESYNC_DEMAP_OC192_OTU3P              = 15,        */
/*   TEN_SYNCDESYNC_DEMAP_8GFC_OTU2E               = 16,        */
/*   TEN_SYNCDESYNC_DEMAP_8GFC_ODU2                = 17,        */
/*   TEN_SYNCDESYNC_DEMAP_10GEM_OTU2E              = 18,        */
/*   TEN_SYNCDESYNC_DEMAP_10GE_OTU2E               = 19,        */
/*   TEN_SYNCDESYNC_DEMAP_10GE_ODU2EP              = 20,        */
/*   TEN_SYNCDESYNC_DEMAP_10GE_ODU1EP              = 21,        */
/*   TEN_SYNCDESYNC_DEMAP_10GE_ODU2FCP             = 22,        */
/*   TEN_SYNCDESYNC_DEMAP_10GE_ODU2P               = 23,        */
/*   TEN_SYNCDESYNC_DEMAP_8GE_OTU2E                = 24,        */
/*   TEN_SYNCDESYNC_DEMAP_ODU2_OTU2                = 25,        */
/*   TEN_SYNCDESYNC_DEMAP_ODU1E_OTU2               = 26,        */
/*   TEN_SYNCDESYNC_DEMAP_ODU2E_OTU2               = 27,        */
/*   TEN_SYNCDESYNC_DEMAP_OC192_ODU2               = 28,        */
/*   TEN_SYNCDESYNC_DEMAP_OC192_OTU2               = 29,        */
/*   TEN_SYNCDESYNC_DEMAP_ODU2_OTU2_10U            = 30,        */
/*   TEN_SYNCDESYNC_DEMAP_10GFC_OTU2FC             = 31,        */
/*   TEN_SYNCDESYNC_DEMAP_ODU2_OTU3                = 32,        */
/*   TEN_SYNCDESYNC_DEMAP_ODU2E_OTU3               = 33,        */
/*   TEN_SYNCDESYNC_DEMAP_ODU2E_OTU3P              = 34,        */
/*   TEN_SYNCDESYNC_DEMAP_ODU1E_OXU3               = 35,        */
/*   TEN_SYNCDESYNC_DEMAP_10GFC_OXU3               = 36,        */
/*   TEN_SYNCDESYNC_DEMAP_10GFC_OTU2               = 37,        */
/*   TEN_SYNCDESYNC_DEMAP_OTU3_ODU3                = 38,        */
/*   TEN_SYNCDESYNC_DEMAP_OTU2EJ_OC192             = 39,        */
/*   TEN_SYNCDESYNC_DEMAP_OTU3_ODU3_LS             = 40,        */
/*   TEN_SYNCDESYNC_DEMAP_ODU2_OTU3_NT             = 41,        */
/*   TEN_SYNCDESYNC_DEMAP_FC_TRANS_OTU3_NT         = 42,        */
/*   TEN_SYNCDESYNC_DEMAP_OTU2E_OTU3_NT            = 43,        */
/*   TEN_SYNCDESYNC_DEMAP_OC192_OTU2_10P           = 44,        */
/*   TEN_SYNCDESYNC_DEMAP_OC192_ODU3               = 45,        */
/*   TEN_SYNCDESYNC_DEMAP_OTU3_OC768_26U           = 46,        */
/*   TEN_SYNCDESYNC_DEMAP_OTU3_OC768_26U_56        = 47,        */
/*   TEN_SYNCDESYNC_DEMAP_OTU2_GENRM_ODU3          = 48,        */
/*   TEN_SYNCDESYNC_DEMAP_ODU3_GENRM_OTU2          = 49,        */
/*   TEN_SYNCDESYNC_DEMAP_OTU2_OTU3                = 50.        */
/*                                                              */
/* $rtn_hdr_end                                                 */
/****************************************************************/
{
  return (ten_hl_syncdsync_demap_internal(module_id,
                                          slice,
                                          mode, 
                                          64)); /* default k value */
}
  
/***************************************************************/
/* $rtn_hdr_start  SYNCDSYNC DEMAP K                           */
/* CATEGORY   : API                                            */
/* ACCESS     : Public                                         */
/* BLOCK      : HIGH LEVEL                                     */
/* CHIP       : Tenabo                                         */
cs_status ten_hl_syncdsync_demap_k(cs_uint16 module_id,
                                   cs_uint8 slice,
                                   cs_uint16 mode,
                                   cs_uint16 k)
/* INPUTS     : o Module Id                                     */
/*              o Slice                                         */
/*              o Mode                                          */
/*              o K                                             */
/* OUTPUTS    : ----                                            */
/* RETURNS    : CS_OK or CS_ERROR                               */
/* DESCRIPTION:                                                 */
/* Programs the various SYNCDSYNC demap parameters based on     */
/* mode and value of k.                                         */
/*                                                              */
/* [slice]  Specified as TEN_SLICE0 (0), TEN_SLICE1 (1),        */
/*     TEN_SLICE2 (2), TEN_SLICE3 (3) or TEN_SLICE_ALL (0xFF)   */
/*                                                              */
/* The [mode] parameter is specified as:                        */
/*   TEN_SYNCDESYNC_DEMAP_DISABLE                  = 0,         */
/*   TEN_SYNCDESYNC_DEMAP_1_TO_1                   = 1,         */
/*   TEN_SYNCDESYNC_DEMAP_OC192_OTU3_10U_8         = 2,         */
/*   TEN_SYNCDESYNC_DEMAP_ODU2_OTU3_10P_8          = 3,         */
/*   TEN_SYNCDESYNC_DEMAP_10GE_OTU2EJ_B            = 4,         */
/*   TEN_SYNCDESYNC_DEMAP_OC192_OTU3P_8            = 5,         */
/*   TEN_SYNCDESYNC_DEMAP_ODU2E_OTU3P_8            = 6,         */
/*   TEN_SYNCDESYNC_DEMAP_10GFC_OXU3_8             = 7,         */
/*   TEN_SYNCDESYNC_DEMAP_ODU1E_OXU3_8             = 8,         */
/*   TEN_SYNCDESYNC_DEMAP_10GE_OTU2EJ              = 9,         */
/*   TEN_SYNCDESYNC_DEMAP_OTU1E_ODU1E              = 10,        */
/*   TEN_SYNCDESYNC_DEMAP_OC192_OTU3               = 11,        */
/*   TEN_SYNCDESYNC_DEMAP_OC192_OTU3_10U           = 12,        */
/*   TEN_SYNCDESYNC_DEMAP_OPU2_OTU2                = 13,        */
/*   TEN_SYNCDESYNC_DEMAP_ODU2_OTU3_10P            = 14,        */
/*   TEN_SYNCDESYNC_DEMAP_OC192_OTU3P              = 15,        */
/*   TEN_SYNCDESYNC_DEMAP_8GFC_OTU2E               = 16,        */
/*   TEN_SYNCDESYNC_DEMAP_8GFC_ODU2                = 17,        */
/*   TEN_SYNCDESYNC_DEMAP_10GEM_OTU2E              = 18,        */
/*   TEN_SYNCDESYNC_DEMAP_10GE_OTU2E               = 19,        */
/*   TEN_SYNCDESYNC_DEMAP_10GE_ODU2EP              = 20,        */
/*   TEN_SYNCDESYNC_DEMAP_10GE_ODU1EP              = 21,        */
/*   TEN_SYNCDESYNC_DEMAP_10GE_ODU2FCP             = 22,        */
/*   TEN_SYNCDESYNC_DEMAP_10GE_ODU2P               = 23,        */
/*   TEN_SYNCDESYNC_DEMAP_8GE_OTU2E                = 24,        */
/*   TEN_SYNCDESYNC_DEMAP_ODU2_OTU2                = 25,        */
/*   TEN_SYNCDESYNC_DEMAP_ODU1E_OTU2               = 26,        */
/*   TEN_SYNCDESYNC_DEMAP_ODU2E_OTU2               = 27,        */
/*   TEN_SYNCDESYNC_DEMAP_OC192_ODU2               = 28,        */
/*   TEN_SYNCDESYNC_DEMAP_OC192_OTU2               = 29,        */
/*   TEN_SYNCDESYNC_DEMAP_ODU2_OTU2_10U            = 30,        */
/*   TEN_SYNCDESYNC_DEMAP_10GFC_OTU2FC             = 31,        */
/*   TEN_SYNCDESYNC_DEMAP_ODU2_OTU3                = 32,        */
/*   TEN_SYNCDESYNC_DEMAP_ODU2E_OTU3               = 33,        */
/*   TEN_SYNCDESYNC_DEMAP_ODU2E_OTU3P              = 34,        */
/*   TEN_SYNCDESYNC_DEMAP_ODU1E_OXU3               = 35,        */
/*   TEN_SYNCDESYNC_DEMAP_10GFC_OXU3               = 36,        */
/*   TEN_SYNCDESYNC_DEMAP_10GFC_OTU2               = 37,        */
/*   TEN_SYNCDESYNC_DEMAP_OTU3_ODU3                = 38,        */
/*   TEN_SYNCDESYNC_DEMAP_OTU2EJ_OC192             = 39,        */
/*   TEN_SYNCDESYNC_DEMAP_OTU3_ODU3_LS             = 40,        */
/*   TEN_SYNCDESYNC_DEMAP_ODU2_OTU3_NT             = 41,        */
/*   TEN_SYNCDESYNC_DEMAP_FC_TRANS_OTU3_NT         = 42,        */
/*   TEN_SYNCDESYNC_DEMAP_OTU2E_OTU3_NT            = 43,        */
/*   TEN_SYNCDESYNC_DEMAP_OC192_OTU2_10P           = 44,        */
/*   TEN_SYNCDESYNC_DEMAP_OC192_ODU3               = 45,        */
/*   TEN_SYNCDESYNC_DEMAP_OTU3_OC768_26U           = 46,        */
/*   TEN_SYNCDESYNC_DEMAP_OTU3_OC768_26U_56        = 47,        */
/*   TEN_SYNCDESYNC_DEMAP_OTU2_GENRM_ODU3          = 48,        */
/*   TEN_SYNCDESYNC_DEMAP_ODU3_GENRM_OTU2          = 49,        */
/*   TEN_SYNCDESYNC_DEMAP_OTU2_OTU3                = 50.        */
/*                                                              */
/* [k] parameter is specified as:                               */
/*   2, 4, 8, 16, 32, 64, 128, or 256.                          */
/*                                                              */
/* $rtn_hdr_end                                                 */
/****************************************************************/
{
  return (ten_hl_syncdsync_demap_internal(module_id,
                                          slice,
                                          mode, 
                                          k));
}

/********************************************************************/
/*                                                                  */
/*  COMMON SYNCDSYNC MAP ROUTINE                                    */
/*                                                                  */
/********************************************************************/
cs_status ten_hl_syncdsync_map_internal(cs_uint16 module_id,
                               cs_uint8 slice,
                               cs_uint16 mode,
                               cs_uint16 k)
{
  cs_status rtn = CS_OK;
  cs_uint16 denom2;
  cs_uint16 denom1;
  cs_uint16 denom0;
  cs_uint16 num_shifts = 0;
  cs_uint16 ii;
  cs_uint16 temp_dev_id;
    cs_uint16 temp_mod_num;

  CS_PRINT("ten_hl_SYNCDESYNC_MAP, slice=%d\n", slice);

  /* Assert hard reset */
  temp_dev_id = TEN_MOD_ID_TO_DEV_ID(module_id);
  temp_mod_num = TEN_MOD_ID_TO_MOD_NUM(module_id);
  ten_mpif_global_reset_syncdsync(temp_dev_id, temp_mod_num, slice, CS_TX, CS_RESET_ASSERT);
  if (mode == TEN_SYNCDESYNC_MAP_DISABLE) {
    goto RTN_EXIT;
  } 

  /* Remove hard reset */
  ten_mpif_global_reset_syncdsync(temp_dev_id, temp_mod_num, slice, CS_TX, CS_RESET_DEASSERT);
 
  if (mode >= TEN_SYNCDESYNC_MAP_MAX_MODE) {
     CS_HNDL_ERROR(module_id, ETEN_MOD_INVALID_USER_ARG, ":  Invalid SYNCDESYNC_MAP_MODE.");
     rtn = CS_ERROR;
     goto RTN_EXIT;
  };

  if ( (k !=   2) && (k !=   4) && (k !=   8) && (k !=  16) && 
       (k !=  32) && (k !=  64) && (k != 128) && (k != 256) ) { 
    CS_HNDL_ERROR(module_id, ETEN_MOD_INVALID_USER_ARG, ":  k parameter out of range.");
    rtn = CS_ERROR;
    goto RTN_EXIT;
  }
  
  denom2 = ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_DENOMINATOR2_DENOMINATOR2][mode];
  denom1 = ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_DENOMINATOR1_DENOMINATOR1][mode];
  denom0 = ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_DENOMINATOR0_DENOMINATOR0][mode]; 
  
  if (k != 64) {
    CS_PRINT("Alternate k value selected, denom before = 0x%04X %04X %04X\n", denom2, denom1, denom0);

    if (k < 64) {
      switch (k) {
      case (32):
       num_shifts = 1;
       break;
      case (16):
       num_shifts = 2;
       break;       
      case (8):
       num_shifts = 3;
       break; 
      case (4):
       num_shifts = 4;
       break;       
      case (2):
       num_shifts = 5;
       break;  
      default:
       num_shifts = 0;
      }   
       
      for (ii=0; ii<num_shifts; ii++) {  
        denom0 >>= 1;
        if (denom1 & 0x0001) {
          denom0 |= 0x8000;
        }
        denom1 >>= 1;
        if (denom2 & 0x0001) {
          denom1 |= 0x8000;
        }
        denom2 >>= 1;
      }
    }
    else { /* k > 64 */
      switch (k) {
      case (128):
        num_shifts = 1;
        break;
      case (256):
        num_shifts = 2;
        break;       
      default:
        num_shifts = 0;
      }   
       
      for (ii=0; ii<num_shifts; ii++) {  
        /* multiply by 2 and or in shifts */
        denom2 <<= 1;
        if (denom1 & 0x8000) {
          denom2 |= 0x0001;
        }
        denom1 <<= 1;
        if (denom0 & 0x8000) {
          denom1 |= 0x0001;
        }
        denom0 <<= 1;
      }
    }
    CS_PRINT("Alternate k value, denom after =  0x%04X %04X %04X\n", denom2, denom1, denom0);
  }  
  
  CS_PRINT("mode = (%d) %s\n", mode, ten_syncdesync_map_debug_str[mode]);
  
  CS_PRINT("CFG_MODE                       = 0x%04X\n", ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_CFG_MODE][mode]);
  CS_PRINT("CFGPD0_DSYNC_PD_MD             = 0x%04X\n", ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_CFGPD0_DSYNC_PD_MD][mode]);
  CS_PRINT("AD21_AD21                      = 0x%04X\n", ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_AD21_AD21][mode]);
  CS_PRINT("AD20_AD20                      = 0x%04X\n", ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_AD20_AD20][mode]);
  CS_PRINT("AD11_AD11                      = 0x%04X\n", ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_AD11_AD11][mode]);
  CS_PRINT("AD10_AD10                      = 0x%04X\n", ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_AD10_AD10][mode]);
  CS_PRINT("AC22_AC22                      = 0x%04X\n", ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_AC22_AC22][mode]);
  CS_PRINT("AC21_AC21                      = 0x%04X\n", ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_AC21_AC21][mode]);
  CS_PRINT("AC20_AC20                      = 0x%04X\n", ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_AC20_AC20][mode]);
  CS_PRINT("AC12_AC12                      = 0x%04X\n", ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_AC12_AC12][mode]);
  CS_PRINT("AC11_AC11                      = 0x%04X\n", ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_AC11_AC11][mode]);
  CS_PRINT("AC10_AC10                      = 0x%04X\n", ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_AC10_AC10][mode]);
  CS_PRINT("NUMERATOR2_NUMERATOR2          = 0x%04X\n", ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_NUMERATOR2_NUMERATOR2][mode]);
  CS_PRINT("NUMERATOR1_NUMERATOR1          = 0x%04X\n", ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_NUMERATOR1_NUMERATOR1][mode]);
  CS_PRINT("NUMERATOR0_NUMERATOR0          = 0x%04X\n", ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_NUMERATOR0_NUMERATOR0][mode]);
  CS_PRINT("DENOMINATOR2_DENOMINATOR2      = 0x%04X\n", denom2);
  CS_PRINT("DENOMINATOR1_DENOMINATOR1      = 0x%04X\n", denom1);
  CS_PRINT("DENOMINATOR0_DENOMINATOR0      = 0x%04X\n", denom0);
  CS_PRINT("CFGJCGEN_JC_GEN_MAX_JP         = 0x%04X\n", ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_CFGJCGEN_JC_GEN_MAX_JP][mode]);
  CS_PRINT("CFGJCGEN_JC_GEN_THRLD          = 0x%04X\n", ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_CFGJCGEN_JC_GEN_THRLD][mode]);
  CS_PRINT("k                              = %6d\n", k);

  CS_PRINT("Provisioning SYNCDSYNC Map...\n");

  /* Assert block-level reset*/
  rtn = ten_syncdsynctx_control_sreset(module_id, slice, CS_RESET_ASSERT);
  if (rtn != CS_OK) {
    goto RTN_EXIT;
  }

  rtn = ten_syncdsynctx_set_mode(module_id, slice, 
                                 ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_CFG_MODE][mode]);
  if (rtn != CS_OK) {
    goto RTN_EXIT;
  }
    
  rtn = ten_syncdsynctx_cfgtx_cfgpd0(module_id, slice, 
                                     ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_CFGPD0_DSYNC_PD_MD][mode]);
  if (rtn != CS_OK) {
    goto RTN_EXIT;
  }
  
  rtn = ten_syncdsynctx_set_ad2(module_id, slice, 
                                ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_AD21_AD21][mode],
                                ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_AD20_AD20][mode]);
  if (rtn != CS_OK) {
    goto RTN_EXIT;
  }
  
  rtn = ten_syncdsynctx_set_ad1(module_id, slice, 
                                ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_AD11_AD11][mode],
                                ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_AD10_AD10][mode]);
  if (rtn != CS_OK) {
    goto RTN_EXIT;
  }
  
  rtn = ten_syncdsynctx_set_ac2(module_id, slice, 
                                ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_AC22_AC22][mode], 
                                ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_AC21_AC21][mode], 
                                ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_AC20_AC20][mode]);
  if (rtn != CS_OK) {
    goto RTN_EXIT;
  }
  
  rtn = ten_syncdsynctx_set_ac1(module_id, slice, 
                                ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_AC12_AC12][mode],
                                ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_AC11_AC11][mode],
                                ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_AC10_AC10][mode]);
  if (rtn != CS_OK) {
    goto RTN_EXIT;
  }
  
  rtn = ten_syncdsynctx_set_numerator(module_id, slice, 
                                      ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_NUMERATOR2_NUMERATOR2][mode],
                                      ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_NUMERATOR1_NUMERATOR1][mode],
                                      ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_NUMERATOR0_NUMERATOR0][mode]);
 if (rtn != CS_OK) {
    goto RTN_EXIT;
  }
  
  rtn = ten_syncdsynctx_set_denominator(module_id, slice, 
                                        denom2,
                                        denom1,
                                        denom0);
  if (rtn != CS_OK) {
    goto RTN_EXIT;
  }
  rtn = ten_syncdsynctx_jcgen_configuration(module_id, slice, 
                                            ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_CFGJCGEN_JC_GEN_THRLD][mode], 
                                            ten_syncdesync_map_table[TEN_SYNCDESYNC_MAP_CFGJCGEN_JC_GEN_MAX_JP][mode]);
 
  CS_PRINT("SYNCDSYNC Map Provisioning Complete.\n");
  
RTN_EXIT:
  if (rtn != CS_OK) {
    CS_HNDL_ERROR(module_id, ETEN_MOD_INVALID_OP, 
                  ":  Failure during SYNCDSYNC Map Provisioning!");
  }
  return (rtn);                                  
}
  
/****************************************************************/
/* $rtn_hdr_start  SYNCDSYNC MAP                                */
/* CATEGORY   : API                                             */
/* ACCESS     : Public                                          */
/* BLOCK      : HIGH LEVEL                                      */
/* CHIP       : Tenabo                                          */
cs_status ten_hl_syncdsync_map(cs_uint16 module_id,
                               cs_uint8 slice,
                               cs_uint16 mode)
/* INPUTS     : o Module Id                                     */
/*              o Slice                                         */
/*              o Mode                                          */
/* OUTPUTS    : ----                                            */
/* RETURNS    : CS_OK or CS_ERROR                               */
/* DESCRIPTION:                                                 */
/* Programs the various SYNCDSYNC map parameters based on mode. */
/*                                                              */
/*   [slice]  Specified as TEN_SLICE0 (0), TEN_SLICE1 (1),      */
/*     TEN_SLICE2 (2), TEN_SLICE3 (3) or TEN_SLICE_ALL (0xFF)   */
/*                                                              */
/* The [mode] parameter is specified as:                        */
/* The [mode] parameter is specified as:                        */
/*   TEN_SYNCDESYNC_MAP_DISABLE                    = 0,         */
/*   TEN_SYNCDESYNC_MAP_1_TO_1                     = 1,         */
/*   TEN_SYNCDESYNC_MAP_OC192_OTU3_10U_8           = 2,         */
/*   TEN_SYNCDESYNC_MAP_ODU2_OTU3_10P_8            = 3,         */
/*   TEN_SYNCDESYNC_MAP_10GE_OTU2EJ_B              = 4,         */
/*   TEN_SYNCDESYNC_MAP_OC192_OTU3P_8              = 5,         */
/*   TEN_SYNCDESYNC_MAP_ODU2E_OTU3P_8              = 6,         */
/*   TEN_SYNCDESYNC_MAP_10GFC_OXU3_8               = 7,         */
/*   TEN_SYNCDESYNC_MAP_ODU1E_OXU3_8               = 8,         */
/*   TEN_SYNCDESYNC_MAP_10GE_OTU2EJ                = 9,         */
/*   TEN_SYNCDESYNC_MAP_OTU1E_ODU1E                = 10,        */
/*   TEN_SYNCDESYNC_MAP_OC192_OTU3                 = 11,        */
/*   TEN_SYNCDESYNC_MAP_OC192_OTU3_10U             = 12,        */
/*   TEN_SYNCDESYNC_MAP_OPU2_OTU2                  = 13,        */
/*   TEN_SYNCDESYNC_MAP_ODU2_OTU3_10P              = 14,        */
/*   TEN_SYNCDESYNC_MAP_OC192_OTU3P                = 15,        */
/*   TEN_SYNCDESYNC_MAP_8GFC_OTU2E                 = 16,        */
/*   TEN_SYNCDESYNC_MAP_8GFC_ODU2                  = 17,        */
/*   TEN_SYNCDESYNC_MAP_10GEM_OTU2E                = 18,        */
/*   TEN_SYNCDESYNC_MAP_10GE_OTU2E                 = 19,        */
/*   TEN_SYNCDESYNC_MAP_10GE_ODU2EP                = 20,        */
/*   TEN_SYNCDESYNC_MAP_10GE_ODU1EP                = 21,        */
/*   TEN_SYNCDESYNC_MAP_10GE_ODU2FCP               = 22,        */
/*   TEN_SYNCDESYNC_MAP_10GE_ODU2P                 = 23,        */
/*   TEN_SYNCDESYNC_MAP_8GE_OTU2E                  = 24,        */
/*   TEN_SYNCDESYNC_MAP_ODU2_OTU2                  = 25,        */
/*   TEN_SYNCDESYNC_MAP_ODU1E_OTU2                 = 26,        */
/*   TEN_SYNCDESYNC_MAP_ODU2E_OTU2                 = 27,        */
/*   TEN_SYNCDESYNC_MAP_OC192_ODU2                 = 28,        */
/*   TEN_SYNCDESYNC_MAP_OC192_OTU2                 = 29,        */
/*   TEN_SYNCDESYNC_MAP_ODU2_OTU2_10U              = 30,        */
/*   TEN_SYNCDESYNC_MAP_10GFC_OTU2FC               = 31,        */
/*   TEN_SYNCDESYNC_MAP_ODU2_OTU3                  = 32,        */
/*   TEN_SYNCDESYNC_MAP_ODU2E_OTU3                 = 33,        */
/*   TEN_SYNCDESYNC_MAP_ODU2E_OTU3P                = 34,        */
/*   TEN_SYNCDESYNC_MAP_ODU1E_OXU3                 = 35,        */
/*   TEN_SYNCDESYNC_MAP_10GFC_OXU3                 = 36,        */
/*   TEN_SYNCDESYNC_MAP_10GFC_OTU2                 = 37,        */
/*   TEN_SYNCDESYNC_MAP_ODU3_OTU3                  = 38,        */
/*   TEN_SYNCDESYNC_MAP_OC192_OTU2EJ               = 39,        */
/*   TEN_SYNCDESYNC_MAP_ODU3_OTU3_SL               = 40,        */
/*   TEN_SYNCDESYNC_MAP_ODU2_OTU3_NT               = 41,        */
/*   TEN_SYNCDESYNC_MAP_FC_TRANS_OTU3_NT           = 42,        */
/*   TEN_SYNCDESYNC_MAP_OTU2E_OTU3_NT              = 43,        */
/*   TEN_SYNCDESYNC_MAP_OC192_OTU2_10P             = 44,        */
/*   TEN_SYNCDESYNC_MAP_OC192_ODU3                 = 45,        */
/*   TEN_SYNCDESYNC_MAP_OTU3_OC768_26U             = 46,        */
/*   TEN_SYNCDESYNC_MAP_OTU3_OC768_26U_56          = 47,        */
/*   TEN_SYNCDESYNC_MAP_ODU3_GENRM_OTU2            = 48,        */
/*   TEN_SYNCDESYNC_MAP_OTU2_GENRM_ODU3            = 49,        */
/*   TEN_SYNCDESYNC_MAP_OTU2_OTU3                  = 50.        */
/*                                                              */
/* $rtn_hdr_end                                                 */
/****************************************************************/
{
  return (ten_hl_syncdsync_map_internal(module_id,
                                        slice,
                                        mode, 
                                        64)); /* default k value */
}

/****************************************************************/
/* $rtn_hdr_start  SYNCDSYNC MAP K                              */
/* CATEGORY   : API                                             */
/* ACCESS     : Public                                          */
/* BLOCK      : HIGH LEVEL                                      */
/* CHIP       : Tenabo                                          */
cs_status ten_hl_syncdsync_map_k(cs_uint16 module_id,
                               cs_uint8 slice,
                               cs_uint16 mode,
                               cs_uint16 k)
/* INPUTS     : o Module Id                                     */
/*              o Slice                                         */
/*              o Mode                                          */
/*              o K                                             */
/* OUTPUTS    : ----                                            */
/* RETURNS    : CS_OK or CS_ERROR                               */
/* DESCRIPTION:                                                 */
/* Programs the various SYNCDSYNC map parameters based on mode. */
/*                                                              */
/* [slice]  Specified as TEN_SLICE0 (0), TEN_SLICE1 (1),        */
/*     TEN_SLICE2 (2), TEN_SLICE3 (3) or TEN_SLICE_ALL (0xFF)   */
/*                                                              */
/* The [mode] parameter is specified as:                        */
/*   TEN_SYNCDESYNC_MAP_DISABLE                    = 0,         */
/*   TEN_SYNCDESYNC_MAP_1_TO_1                     = 1,         */
/*   TEN_SYNCDESYNC_MAP_OC192_OTU3_10U_8           = 2,         */
/*   TEN_SYNCDESYNC_MAP_ODU2_OTU3_10P_8            = 3,         */
/*   TEN_SYNCDESYNC_MAP_10GE_OTU2EJ_B              = 4,         */
/*   TEN_SYNCDESYNC_MAP_OC192_OTU3P_8              = 5,         */
/*   TEN_SYNCDESYNC_MAP_ODU2E_OTU3P_8              = 6,         */
/*   TEN_SYNCDESYNC_MAP_10GFC_OXU3_8               = 7,         */
/*   TEN_SYNCDESYNC_MAP_ODU1E_OXU3_8               = 8,         */
/*   TEN_SYNCDESYNC_MAP_10GE_OTU2EJ                = 9,         */
/*   TEN_SYNCDESYNC_MAP_OTU1E_ODU1E                = 10,        */
/*   TEN_SYNCDESYNC_MAP_OC192_OTU3                 = 11,        */
/*   TEN_SYNCDESYNC_MAP_OC192_OTU3_10U             = 12,        */
/*   TEN_SYNCDESYNC_MAP_OPU2_OTU2                  = 13,        */
/*   TEN_SYNCDESYNC_MAP_ODU2_OTU3_10P              = 14,        */
/*   TEN_SYNCDESYNC_MAP_OC192_OTU3P                = 15,        */
/*   TEN_SYNCDESYNC_MAP_8GFC_OTU2E                 = 16,        */
/*   TEN_SYNCDESYNC_MAP_8GFC_ODU2                  = 17,        */
/*   TEN_SYNCDESYNC_MAP_10GEM_OTU2E                = 18,        */
/*   TEN_SYNCDESYNC_MAP_10GE_OTU2E                 = 19,        */
/*   TEN_SYNCDESYNC_MAP_10GE_ODU2EP                = 20,        */
/*   TEN_SYNCDESYNC_MAP_10GE_ODU1EP                = 21,        */
/*   TEN_SYNCDESYNC_MAP_10GE_ODU2FCP               = 22,        */
/*   TEN_SYNCDESYNC_MAP_10GE_ODU2P                 = 23,        */
/*   TEN_SYNCDESYNC_MAP_8GE_OTU2E                  = 24,        */
/*   TEN_SYNCDESYNC_MAP_ODU2_OTU2                  = 25,        */
/*   TEN_SYNCDESYNC_MAP_ODU1E_OTU2                 = 26,        */
/*   TEN_SYNCDESYNC_MAP_ODU2E_OTU2                 = 27,        */
/*   TEN_SYNCDESYNC_MAP_OC192_ODU2                 = 28,        */
/*   TEN_SYNCDESYNC_MAP_OC192_OTU2                 = 29,        */
/*   TEN_SYNCDESYNC_MAP_ODU2_OTU2_10U              = 30,        */
/*   TEN_SYNCDESYNC_MAP_10GFC_OTU2FC               = 31,        */
/*   TEN_SYNCDESYNC_MAP_ODU2_OTU3                  = 32,        */
/*   TEN_SYNCDESYNC_MAP_ODU2E_OTU3                 = 33,        */
/*   TEN_SYNCDESYNC_MAP_ODU2E_OTU3P                = 34,        */
/*   TEN_SYNCDESYNC_MAP_ODU1E_OXU3                 = 35,        */
/*   TEN_SYNCDESYNC_MAP_10GFC_OXU3                 = 36,        */
/*   TEN_SYNCDESYNC_MAP_10GFC_OTU2                 = 37,        */
/*   TEN_SYNCDESYNC_MAP_ODU3_OTU3                  = 38,        */
/*   TEN_SYNCDESYNC_MAP_OC192_OTU2EJ               = 39,        */
/*   TEN_SYNCDESYNC_MAP_ODU3_OTU3_SL               = 40,        */
/*   TEN_SYNCDESYNC_MAP_ODU2_OTU3_NT               = 41,        */
/*   TEN_SYNCDESYNC_MAP_FC_TRANS_OTU3_NT           = 42,        */
/*   TEN_SYNCDESYNC_MAP_OTU2E_OTU3_NT              = 43,        */
/*   TEN_SYNCDESYNC_MAP_OC192_OTU2_10P             = 44,        */
/*   TEN_SYNCDESYNC_MAP_OC192_ODU3                 = 45,        */
/*   TEN_SYNCDESYNC_MAP_OTU3_OC768_26U             = 46,        */
/*   TEN_SYNCDESYNC_MAP_OTU3_OC768_26U_56          = 47,        */
/*   TEN_SYNCDESYNC_MAP_ODU3_GENRM_OTU2            = 48,        */
/*   TEN_SYNCDESYNC_MAP_OTU2_GENRM_ODU3            = 49,        */
/*   TEN_SYNCDESYNC_MAP_OTU2_OTU3                  = 50.        */
/*                                                              */
/* [k] parameter is specified as:                               */
/*   2, 4, 8, 16, 32, 64, 128, or 256.                          */
/*                                                              */
/* $rtn_hdr_end                                                 */
/****************************************************************/
{
  return (ten_hl_syncdsync_map_internal(module_id,
                               slice,
                               mode, 
                               k)); /* default k value */
}

/* Bugzilla 21326 - For ASYNC applications K is always set to 64 in
   mapping direction as required by the phase comparator. It can vary
   in the demapping direction */
/********************************************************************/
/* $rtn_hdr_start  SYNCDSYNC DATAPATH CONFIG                        */
/* CATEGORY   : API                                                 */
/* ACCESS     : Public                                              */
/* BLOCK      : HIGH LEVEL                                          */
/* CHIP       : Tenabo                                              */
cs_status ten_hl_syncdsync_datapath_config(cs_uint16 module_id_line,
                                           cs_uint8 slice_line, 
                                           cs_uint16 module_id_client,
                                           cs_uint8 slice_client,
                                           cs_uint8 mode,
                                           cs_uint8 sync_mode,
                                           cs_uint16 method,
                                           cs_uint8 k_divider,
                                           cs_uint8 line_fec,
                                           cs_uint8 client_fec)
/* INPUTS     : o Line Module Id                                    */
/*              o Line Slice                                        */
/*              o Client Module Id                                  */
/*              o Client Slice                                      */
/*              o Mode                                              */
/*              o Sync mode                                         */
/*              o Method                                            */
/*              o k divider                                         */
/*              o Line FEC                                          */
/*              o Client FEC                                        */
/* OUTPUTS    : ----                                                */
/* RETURNS    : CS_OK or CS_ERROR                                   */
/* DESCRIPTION:                                                     */
/* Configures line and client syncdsync blocks based on mode and    */
/* sync_mode                                                        */
/*                                                                  */
/*   [slice_line]  Specified as TEN_SLICE0 (0), TEN_SLICE1 (1),     */
/*     TEN_SLICE2 (2), TEN_SLICE3 (3) or TEN_SLICE_ALL (0xFF)       */
/*                                                                  */
/*   [slice_client]  Specified as TEN_SLICE0 (0), TEN_SLICE1 (1),   */
/*     TEN_SLICE2 (2), TEN_SLICE3 (3) or TEN_SLICE_ALL (0xFF)       */
/*                                                                  */
/*   [mode] specifies one of the three modes                        */
/*     TEN_40G_TRANSPONDER  = 0 (40G to 40G)                        */
/*     TEN_40G_MUXPONDER    = 1 (10G to 40G)                        */
/*     TEN_10G_TRANSPONDER  = 2 (10G to 10G)                        */
/*     TEN_10G_LOOPBACK     = 3                                     */
/*     TEN_40G_LOOPBACK     = 4                                     */
/*     TEN_10G_KPGA         = 5                                     */
/*     TEN_40G_KPGA         = 6                                     */
/*     TEN_10G_PBERT        = 7                                     */
/*                                                                  */
/*   [sync_mode] specifies synchronous or asynchronous mapping      */
/*     0 = Asynchronous                                             */
/*     1 = Synchronous                                              */
/*                                                                  */
/*   [method] specifies how syncdysnc blocks can be configured for  */
/*            40G applications                                      */
/*     TEN_1TO1_ASYNC_2LEVEL = 0                                    */
/*       Client -  1:1                                              */    
/*       Line   -  Async 2 level mapping                            */
/*     TEN_SYNC_ASYNC_1LEVEL = 1                                    */
/*       Client -  Sync  1 level mapping                            */  
/*       Line   -  Async 1 level mapping                            */
/*     TEN_1TO1_ASYNC_1LEVEL = 2                                */
/*       Client -  1:1                                              */
/*       Line   -  Async 1 level mapping                            */
/*     TEN_BOTH_1TO1         = 3                                    */
/*       Client -  1:1                                              */
/*       Line   -  1:1                                              */
/*                                                                  */
/*   [k_divider] specifies the value of constant 'k'                */
/*     Async : 16 - 64                                              */
/*     Sync  : 16 - 255                                             */
/*                                                                  */
/*   [line_fec] specifies the line FEC type                         */
/*     TEN_FEC_MODE_NOFEC = 15, or                                  */
/*     Any other FEC% as per ten_fec_ovhd_t = 0 -14                 */
/*                                                                  */
/*   [client_fec] specifies the client FEC type                     */
/*     TEN_FEC_MODE_NOFEC = 15, or                                  */
/*     Any other FEC% as per ten_fec_ovhd_t = 0 -14                 */
/*                                                                  */
/* $rtn_hdr_end                                                     */
/********************************************************************/
{
  cs_status rtn = CS_OK;
  cs_uint16 dev_id;
  ten_dev_cb_t *pdevcb;

  cs_uint32 n1, n2, m1, m2;
  cs_uint32 num_hi, num_lo, denom_hi, denom_lo, ac1_hi=0, ac1_lo=0, ac2_hi=0, ac2_lo=0, ad1=0, ad2=0;
  cs_uint8 cfg=0, cfgpd0=0, jc_thresh=0;
  /*cs_uint8 transcode_num=1, transcode_den=1;  -- initialize it outside of here */
  cs_int16 num_just_odtu23, num_just_odu3, num_just_odu2;
  cs_uint16 num_pjo_odtu23, num_pjo_odu3, num_pjo_odu2;
  cs_uint8 max_pjo;
  cs_char8 *func = "ten_hl_syncdsync_datapath_config";  

  /* Bugzilla 22514 Start */
  /* Bugzilla 24645 Start */  
  if(mode > TEN_40G_WIRE) {
  /* Bugzilla 24645 End */  
  /* Bugzilla 22514 End */
    CS_HNDL_ERROR(module_id_line, ETEN_MOD_INVALID_USER_ARG, ": Invalid mode !");
    rtn = CS_ERROR;
    goto RTN_EXIT;
  }

  if(sync_mode > 1) {
    CS_HNDL_ERROR(module_id_line, ETEN_MOD_INVALID_USER_ARG, ": Invalid sync_mode !");
    rtn = CS_ERROR;
    goto RTN_EXIT;
  }

  if(method > TEN_BOTH_1TO1) {
    CS_HNDL_ERROR(module_id_line, ETEN_MOD_INVALID_USER_ARG, ": nvalid muxponder method !");
    rtn = CS_ERROR;
    goto RTN_EXIT;
  }

  if(sync_mode == 0) {
    if((k_divider < 16) || (k_divider > 64)) {
      CS_HNDL_ERROR(module_id_line, ETEN_MOD_INVALID_USER_ARG, ": Invalid k - must be 16 - 64 !");
      rtn = CS_ERROR;
      goto RTN_EXIT;
    }
  }
  else {
    if(k_divider < 16) {
      CS_HNDL_ERROR(module_id_line, ETEN_MOD_INVALID_USER_ARG, ": Invalid k - must be 16 - 255 !");
      rtn = CS_ERROR;
      goto RTN_EXIT;
    }
  }

  if(line_fec > TEN_FEC_MODE_MAX_NUM) {
    CS_HNDL_ERROR(module_id_line, ETEN_MOD_INVALID_USER_ARG, ": Invalid line FEC !");
    rtn = CS_ERROR;
    goto RTN_EXIT;
  }

  if(client_fec > TEN_FEC_MODE_MAX_NUM) {
    CS_HNDL_ERROR(module_id_line, ETEN_MOD_INVALID_USER_ARG, ": Invalid client FEC!");
    rtn = CS_ERROR;
    goto RTN_EXIT;
  }


  CS_PRINT("%s() \n", func);
  CS_PRINT("    line %s\n", ten_module_strings[module_id_line&1]);
  CS_PRINT("    slice_line=%d\n", slice_line);
  CS_PRINT("    client %s\n", ten_module_strings[module_id_client&1]);
  CS_PRINT("    slice_client=%d\n", slice_client);
  CS_PRINT("    %s\n", ten_traffic_mode_strings[mode]);
  CS_PRINT("    sync_mode=%d\n", sync_mode);
  CS_PRINT("    %s\n", ten_method_strings[method]);
  CS_PRINT("    k_divider=%d\n", k_divider);
  CS_PRINT("    line fec=%s\n", ten_fec_ovhd_strings[line_fec]);
  

  dev_id = TEN_MOD_ID_TO_DEV_ID(module_id_line);
  pdevcb = TEN_DEV_ID_TO_DEVCB_PTR(dev_id);
  CS_PRINT("    Q_line=%d\n", pdevcb->syncdsync_cb.Q_line);
  CS_PRINT("    P_line=%d\n", pdevcb->syncdsync_cb.P_line);
  CS_PRINT("    Q_client=%d\n", pdevcb->syncdsync_cb.Q_client);
  CS_PRINT("    P_client=%d\n", pdevcb->syncdsync_cb.P_client);
  CS_PRINT("    num_just_oxu3=%d\n", pdevcb->syncdsync_cb.num_just_oxu3);
  CS_PRINT("    num_pjo_oxu3=%d\n", pdevcb->syncdsync_cb.num_pjo_oxu3);
  CS_PRINT("    transcode_num=%d\n", pdevcb->syncdsync_cb.transcode_num);
  CS_PRINT("    transcode_denom=%d\n", pdevcb->syncdsync_cb.transcode_denom);
  switch(mode) {
    case TEN_40G_TRANSPONDER:
    /* Bugzilla 24645 Start */  
    case TEN_40G_WIRE:
    /* Bugzilla 24645 End */  
      num_just_odu3   = pdevcb->syncdsync_cb.num_just_oxu3;
      num_pjo_odu3    = pdevcb->syncdsync_cb.num_pjo_oxu3;

      if(sync_mode) {
        /* Line type and client type are identical */
        if(pdevcb->syncdsync_cb.line_client_same) {
          /* Line rate = Client rate */
          if(pdevcb->syncdsync_cb.line_client_rate_equal) {
            /* Client RX */
            ten_syncdsync_config_1_to_1(module_id_client,
                                        slice_client,
                                        ((module_id_line & 1) * 4) + slice_line,
                                        CS_RX, 
                                        k_divider);
            /* Line TX */
            ten_syncdsync_config_1_to_1(module_id_line,
                                        slice_line,
                                        ((module_id_client & 1) * 4) + slice_client,
                                        CS_TX, 
                                        k_divider);
            /* Line RX */
            ten_syncdsync_config_1_to_1(module_id_line,
                                        slice_line,
                                        ((module_id_client & 1) * 4) + slice_client,
                                        CS_RX, 
                                        k_divider);
            /* Client TX */
            ten_syncdsync_config_1_to_1(module_id_client,
                                        slice_client,
                                        ((module_id_line & 1) * 4) + slice_line,
                                        CS_TX, 
                                        k_divider);
          }
          /* Line rate != Client rate */
          else {
            /* Client RX */
            n1 = pdevcb->syncdsync_cb.P_client*16*4;
            m1 = pdevcb->syncdsync_cb.P_line*16*4;
            n2 = 1;
            m2 = 1;

            /*num    = m1 * m2; */
            long_multiply(m1, m2);
            num_hi = hi_word;
            num_lo = low_word;

            /* denom  = n1 * n2 * k_divider; */
            long_multiply(n1*k_divider, n2);
            denom_hi = hi_word;
            denom_lo = low_word;

            ten_syncdsyncrx_cfg(module_id_client,
                                slice_client,
                                num_hi, num_lo, denom_hi, denom_lo,
                                0,0,0,0,0,0,0);

            /* Line TX */
            ten_syncdsync_config_1_to_1(module_id_line,
                                        slice_line,
                                        ((module_id_client & 1) * 4) + slice_client,
                                        CS_TX, 
                                        k_divider);

            /* Line RX */
            n1 = pdevcb->syncdsync_cb.P_line*16*4;
            m1 = pdevcb->syncdsync_cb.P_client*16*4;
            n2 = 1;
            m2 = 1;

            /*num    = m1 * m2; */
            long_multiply(m1, m2);
            num_hi = hi_word;
            num_lo = low_word;

            /* denom  = n1 * n2 * k_divider; */
            long_multiply(n1*k_divider, n2);
            denom_hi = hi_word;
            denom_lo = low_word;

            ten_syncdsyncrx_cfg(module_id_line,
                                slice_line,
                                num_hi, num_lo, denom_hi, denom_lo,
                                0,0,0,0,0,0,0);

            /* Client TX */
            ten_syncdsync_config_1_to_1(module_id_client,
                                        slice_client,
                                        ((module_id_line & 1) * 4) + slice_line,
                                        CS_TX, 
                                        k_divider);
          }
        }
        /* Line type and client type are different */
        else {
          /* Client RX */
          n1 = pdevcb->syncdsync_cb.Q_line*16*4;
          m1 = pdevcb->syncdsync_cb.P_line*16*4;
          n2 = 1;
          m2 = 1;

          /*num    = m1 * m2; */
          long_multiply(m1, m2);
          num_hi = hi_word;
          num_lo = low_word;

          /* denom  = n1 * n2 * k_divider; */
          long_multiply(n1*k_divider, n2);
          denom_hi = hi_word;
          denom_lo = low_word;

          ten_syncdsyncrx_cfg(module_id_client,
                              slice_client,
                              num_hi, num_lo, denom_hi, denom_lo,
                              0,0,0,0,0,0,1);

          /* Line TX */
          ten_syncdsync_config_1_to_1(module_id_line,
                                      slice_line,
                                      ((module_id_client & 1) * 4) + slice_client,
                                      CS_TX, 
                                      k_divider);

          /* Line RX */
          n1 = pdevcb->syncdsync_cb.P_line*16*4;
          m1 = pdevcb->syncdsync_cb.Q_line*16*4;
          n2 = 1;
          m2 = 1;

          /*num    = m1 * m2; */
          long_multiply(m1, m2);
          num_hi = hi_word;
          num_lo = low_word;

          /* denom  = n1 * n2 * k_divider; */
          long_multiply(n1*k_divider, n2);
          denom_hi = hi_word;
          denom_lo = low_word;

          ten_syncdsyncrx_cfg(module_id_line,
                              slice_line,
                              num_hi, num_lo, denom_hi, denom_lo,
                              0,0,0,0,0,0,1);

          /* Client TX */
          ten_syncdsync_config_1_to_1(module_id_client,
                                      slice_client,
                                      ((module_id_line & 1) * 4) + slice_line,
                                      CS_TX, 
                                      k_divider);
        }
      }
      else { /* ASYNC */
        /* Bugzilla 24940 Start */
        if (method == TEN_SYNC_ASYNC_1LEVEL) {
            /* Client RX */
            n1 = 1;        /* Only 1 level */
            m1 = 1;        /* Only 1 level */
            n2 = pdevcb->syncdsync_cb.P_client*16*4;   /* 255 */
            /*m2 = 239*16*4;*/
            m2 = pdevcb->syncdsync_cb.Q_client*16*4;   /* 239 */   /* Bugzilla 27167 */

             /*num    = m1 * m2; */
            long_multiply(m1, m2);
            num_hi = hi_word;
            num_lo = low_word;

            /* denom  = n1 * n2 * k_divider; */
            long_multiply(n1*64, n2);
            denom_hi = hi_word;
            denom_lo = low_word;

            /*Client RX */
            ten_syncdsyncrx_cfg(module_id_client,
                                slice_client,
                                num_hi, num_lo, denom_hi, denom_lo,
                                0,0,0,0,0,0,0);


            /* Line TX */
            n1 = pdevcb->syncdsync_cb.P_line*16*4;
            m1 = 238*16*4 - num_just_odu3;  /* OPU - fixed stuff */
            /*m1 = pdevcb->syncdsync_cb.Q_line*16*4 - num_just_odu3;*/
            /*pdevcb->syncdsync_cb.P_client*16*4 - num_just_odu3 ??? */
            n2 = 1;       /* Only 1 level */
            m2 = 1;       /* Only 1 level */

             /*num    = m1 * m2; */
            long_multiply(m1, m2);
            num_hi = hi_word;
            num_lo = low_word;

            /* denom  = n1 * n2 * k_divider; */
            long_multiply(n1*64, n2);
            denom_hi = hi_word;
            denom_lo = low_word;

            /* $ac1    = 0; */
            ac1_hi = 0;
            ac1_lo = 0;    /* ac1_lo = 1 ??? */

            /* $ac2 = $n1/4 * $n2; */
            long_multiply(n1/4, n2);
            ac2_hi = hi_word;
            ac2_lo = low_word;

            ad1 = 0;                               
            ad2 = num_pjo_odu3;

            cfg    = 0x01;   /* OxU3(OPU3)-client Monolithic de-wrapping 1 level of justificaition */
            cfgpd0 = 0x01;
            /* Bugzilla #26345, change name of _floor due to name collisions */
            jc_thresh = (cs_uint32)_ten_floor((cs_float)(2.0 * ((cs_float)64)/((2.0 * (cs_float)num_pjo_odu3) + 1.0)));
            max_pjo = num_pjo_odu3;

            /* Line TX */
            slice_line = 0;
            ten_syncdsynctx_cfg(module_id_line,
                                slice_line,
                                ((module_id_client & 1) * 4) + slice_client, 
                                num_hi, num_lo, denom_hi, denom_lo,
                                ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                                ad1, ad2,
                                cfg, cfgpd0,
                                jc_thresh,
                                max_pjo);

            slice_line = 3;
            ten_syncdsynctx_cfg(module_id_line,
                                slice_line,
                                ((module_id_client & 1) * 4) + slice_client, 
                                num_hi, num_lo, denom_hi, denom_lo,
                                ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                                ad1, ad2,
                                cfg, cfgpd0,
                                jc_thresh,
                                max_pjo);





            /* Line RX */
            /*num    = m1 * m2; */
            long_multiply(m1, m2*pdevcb->syncdsync_cb.P_client); /* pdevcb->syncdsync_cb.Q_client*16*4 */
            /*long_multiply(m1, m2*239)*/;
            num_hi = hi_word;
            num_lo = low_word;

            /*n2 = pdevcb->syncdsync_cb.P_line*16*4;*/ /* Down rate to ODU3 from line */
            
            /* denom  = n1 * n2 * k_divider; */
            /*long_multiply(n1*k_divider, n2*239);*/
            long_multiply(n1*k_divider, n2*pdevcb->syncdsync_cb.Q_client);  /* Bugzilla 27167 */
            denom_hi = hi_word;
            denom_lo = low_word;

            /* $ac1    = 0; */
            ac1_hi = 0;
            ac1_lo = 0;

            /* $ac2 = $n1/4 * $n2; */
            long_multiply(n1/4, n2*pdevcb->syncdsync_cb.P_client);
            ac2_hi = hi_word;
            ac2_lo = low_word;

            ad1 = 0;                               
            ad2 = num_pjo_odu3*pdevcb->syncdsync_cb.P_client;
            /*ad2 = num_pjo_odu3;*/

            slice_line = 0;
            ten_syncdsyncrx_cfg(module_id_line,
                                slice_line,
                                num_hi, num_lo, denom_hi, denom_lo,
                                ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                                ad1, ad2,
                                cfg);
            slice_line = 3;
            ten_syncdsyncrx_cfg(module_id_line,
                                slice_line,
                                num_hi, num_lo, denom_hi, denom_lo,
                                ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                                ad1, ad2,
                                cfg);

            /* Client TX */
            /* slice_line = 3 so that clock with RX justifications is used */
            ten_syncdsync_config_1_to_1(module_id_client,
                                        slice_client,
                                        ((module_id_line & 1) * 4) + slice_line,
                                        CS_TX,
                                        k_divider);
        }
        else {
          /* method = TEN_1TO1_ASYNC_1LEVEL */
          /* Client RX */
          ten_syncdsync_config_1_to_1(module_id_client,
                                      slice_client,
                                      ((module_id_line & 1) * 4) + slice_line,
                                      CS_RX, 
                                      64);

          /* Line TX */
          n1 = pdevcb->syncdsync_cb.P_line*16*4;
          m1 = pdevcb->syncdsync_cb.P_client*16*4 - num_just_odu3;
          n2 = 1;
          m2 = 1;

          /* num = m1 * m2; */
          long_multiply(m1, m2 * pdevcb->syncdsync_cb.transcode_num);   /* Bugzilla 26781 */
          num_hi = hi_word;
          num_lo = low_word;

          /* denom  = n1 * n2 * k_divider; */
          long_multiply(n1*64, n2 * pdevcb->syncdsync_cb.transcode_denom);   /* Bugzilla 26781 */
          denom_hi = hi_word;
          denom_lo = low_word;

          /* ac1 = 1; */
          ac1_hi = 0;
          ac1_lo = 1;

          /* ac2 = n1 * n2; */
          long_multiply(n1/4, n2 * pdevcb->syncdsync_cb.transcode_num);  /* Bugzilla 26781 */
          ac2_hi = hi_word;
          ac2_lo = low_word;

          ad1 = 0;
          ad2 = num_pjo_odu3 * pdevcb->syncdsync_cb.transcode_num;  /* Bugzilla 26781 */

          cfg = 0x01;
          cfgpd0 = 0x01;
          jc_thresh = (cs_uint32)_ten_floor((cs_float)(2.0 * ((cs_float)64)/((2.0 * (cs_float)num_pjo_odu3) + 1.0)));
          max_pjo = num_pjo_odu3;

          /* Line TX */
          slice_line = 0;
          ten_syncdsynctx_cfg(module_id_line,
                              slice_line,
                              ((module_id_client & 1) * 4), 
                              num_hi, num_lo, denom_hi, denom_lo,
                              ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                              ad1, ad2,
                              cfg, cfgpd0,
                              jc_thresh,
                              max_pjo);

          slice_line = 3;
          ten_syncdsynctx_cfg(module_id_line,
                              slice_line,
                              ((module_id_client & 1) * 4), 
                              num_hi, num_lo, denom_hi, denom_lo,
                              ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                              ad1, ad2,
                              cfg, cfgpd0,
                              jc_thresh,
                              max_pjo);

          /* denom  = n1 * n2 * k_divider; */
          long_multiply(n1*k_divider, n2 * pdevcb->syncdsync_cb.transcode_denom); /* Bugzilla 26781 */
          denom_hi = hi_word;
          denom_lo = low_word;

          /* Line RX */
          slice_line = 0;
          ten_syncdsyncrx_cfg(module_id_line,
                              slice_line,
                              num_hi, num_lo, denom_hi, denom_lo,
                              ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                              ad1, ad2,
                              cfg);

          slice_line = 3;
          ten_syncdsyncrx_cfg(module_id_line,
                              slice_line,
                              num_hi, num_lo, denom_hi, denom_lo,
                              ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                              ad1, ad2,
                              cfg);

          /* Client TX */
          ten_syncdsync_config_1_to_1(module_id_client,
                                      slice_client,
                                      ((module_id_line & 1) * 4) + slice_line,
                                      CS_TX, 
                                      k_divider);
        }
      }
      break;
  
    case TEN_40G_MUXPONDER:
      num_just_odtu23 = pdevcb->syncdsync_cb.num_just_oxu3;
      num_pjo_odtu23  = pdevcb->syncdsync_cb.num_pjo_oxu3;
      num_just_odu2   = pdevcb->syncdsync_cb.num_just_oxu2;
      num_pjo_odu2    = pdevcb->syncdsync_cb.num_pjo_oxu2;
      CS_PRINT("%s() TEN_40G_MUXPONDER\n", func);
      CS_PRINT("    num_just_odtu23=%d\n", num_just_odtu23);
      CS_PRINT("    num_pjo_odtu23=%d\n", num_pjo_odtu23);
      CS_PRINT("    num_just_odu2=%d\n", num_just_odu2);
      CS_PRINT("    num_pjo_odu2=%d\n", num_pjo_odu2);

      if(method == TEN_1TO1_ASYNC_2LEVEL) {
        n1 = pdevcb->syncdsync_cb.P_line*16*4*4;
        m1 = 238*16*4*4 - num_just_odtu23;
        /* Bugzilla 24797 Start */
        /* n2 = 239*16*4*pdevcb->syncdsync_cb.transcode_denom;
        m2 = (238*16*4-num_just_odu2)*pdevcb->syncdsync_cb.transcode_num; */
        n2 = 239*16*4;
        m2 = (238*16*4-num_just_odu2);
        CS_PRINT("    n1=0x%X\n", n1);
        CS_PRINT("    m1=0x%X\n", m1);
        CS_PRINT("    n2=0x%X\n", n2);
        CS_PRINT("    m2=0x%X\n", m2);

         /*num    = m1 * m2 * trans_num; */
        /* long_multiply(m1, m2); */
        long_multiply(m1, m2*pdevcb->syncdsync_cb.transcode_num);
        num_hi = hi_word;
        num_lo = low_word;

        /* denom  = n1 * n2 * k_divider * trans_denom; */
        /* long_multiply(n1*64, n2); */
        long_multiply(n1*64, n2*pdevcb->syncdsync_cb.transcode_denom);
        denom_hi = hi_word;
        denom_lo = low_word;

        /* ac1 = n1 * m2 * trans_num; */
        /* long_multiply(n1, m2); */
        long_multiply(n1, m2*pdevcb->syncdsync_cb.transcode_num);
        ac1_hi = hi_word;
        ac1_lo = low_word;

        /* ac2 = n1 * n2 * trans_num; */
        /* long_multiply(n1, n2); */
        long_multiply(n1, n2*pdevcb->syncdsync_cb.transcode_num);
        ac2_hi = hi_word;
        ac2_lo = low_word;

        /* ad1 = 4 * num_pjo_odtu23 * m2 * trans_num; */
        /* ad2 = (m1+4) * num_pjo_odu2 * trans_num; */
        ad1 = 4 * num_pjo_odtu23 * m2 * pdevcb->syncdsync_cb.transcode_num;       
        ad2 = (m1+4) * num_pjo_odu2 * pdevcb->syncdsync_cb.transcode_num;
        /* Bugzilla 24797 End */

        cfg    = 0x03;
        cfgpd0 = 0x01;
        jc_thresh = (cs_uint32)_ten_floor((cs_float)(2.0 * ((cs_float)64)/((2.0 * (cs_float)num_pjo_odtu23) + 1.0)));
        max_pjo = num_pjo_odtu23 > num_pjo_odu2 ? num_pjo_odtu23 : num_pjo_odu2;

        /* Client RX */
        ten_syncdsync_config_1_to_1(module_id_client,
                                    slice_client,
                                    ((module_id_line & 1) * 4) + slice_line,
                                    CS_RX, 
                                    64);

        /* Line TX */
        ten_syncdsynctx_cfg(module_id_line,
                            slice_line,
                            ((module_id_client & 1) * 4) + slice_client, 
                            num_hi, num_lo, denom_hi, denom_lo,
                            ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                            ad1, ad2,
                            cfg, cfgpd0,
                            jc_thresh,
                            max_pjo);

        /* denom  = n1 * n2 * k_divider; */
        /* Bugzilla 24797 Reopen Start */
        /* We need to multiply the denominator by pdevcb->syncdsync_cb.transcode_denom */
        long_multiply(n1*k_divider, n2*pdevcb->syncdsync_cb.transcode_denom);
        /* Bugzilla 24797 Reopen End */
        denom_hi = hi_word;
        denom_lo = low_word;

        /* Line RX */
        ten_syncdsyncrx_cfg(module_id_line,
                            slice_line,
                            num_hi, num_lo, denom_hi, denom_lo,
                            ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                            ad1, ad2,
                            cfg);

        /* Client TX */
        ten_syncdsync_config_1_to_1(module_id_client,
                                    slice_client,
                                    ((module_id_line & 1) * 4) + slice_line,
                                    CS_TX, 
                                    k_divider);

        /* Calculate hysteresis for deterministic justification clients */
        ten_calc_hyst(dev_id);
      }
      else if(method == TEN_SYNC_ASYNC_1LEVEL) {
        n1 = 1;
        m1 = 1;
        n2 = pdevcb->syncdsync_cb.P_client*16*4;
        m2 = 239*16*4;

         /*num    = m1 * m2; */
        long_multiply(m1, m2);
        num_hi = hi_word;
        num_lo = low_word;

        /* denom  = n1 * n2 * k_divider; */
        long_multiply(n1*64, n2);
        denom_hi = hi_word;
        denom_lo = low_word;

        /*Client RX */
        if(client_fec == TEN_FEC_MODE_NOFEC) {
          ten_syncdsync_config_1_to_1(module_id_client,
                                      slice_client,
                                      ((module_id_line & 1) * 4) + slice_line,
                                      CS_RX,
                                      64);
        }
        else {
          ten_syncdsyncrx_cfg(module_id_client,
                              slice_client,
                              num_hi, num_lo, denom_hi, denom_lo,
                              0,0,0,0,0,0,0);
        }

        n1 = pdevcb->syncdsync_cb.P_line*16*4*4;
        m1 = 238*16*4*4 - num_just_odtu23;
        n2 = 1;
        m2 = 1;

         /*num    = m1 * m2; */
        long_multiply(m1, m2);
        num_hi = hi_word;
        num_lo = low_word;

        /* denom  = n1 * n2 * k_divider; */
        long_multiply(n1*64, n2);
        denom_hi = hi_word;
        denom_lo = low_word;

        /* $ac1    = 0; */
        ac1_hi = 0;
        ac1_lo = 0;

        /* $ac2 = $n1 * $n2; */
        long_multiply(n1, n2);
        ac2_hi = hi_word;
        ac2_lo = low_word;

        ad1 = 0;                               
        ad2 = 4 * num_pjo_odtu23;

        cfg    = 0x02;
        cfgpd0 = 0x01;
        jc_thresh = (cs_uint32)_ten_floor((cs_float)(2.0 * ((cs_float)64)/((2.0 * (cs_float)num_pjo_odtu23) + 1.0)));
        max_pjo = num_pjo_odtu23 > num_pjo_odu2 ? num_pjo_odtu23 : num_pjo_odu2;

        /* Line TX */
        ten_syncdsynctx_cfg(module_id_line,
                            slice_line,
                            ((module_id_client & 1) * 4) + slice_client, 
                            num_hi, num_lo, denom_hi, denom_lo,
                            ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                            ad1, ad2,
                            cfg, cfgpd0,
                            jc_thresh,
                            max_pjo);

        /* Line RX */
        /* Bugzilla 21146 - Line RX has to be multiplied by a ratio to get the correct rate
        if(line_fec == TEN_FEC_MODE_NOFEC) {
          ten_syncdsyncrx_cfg(module_id_line,
                              slice_line,
                              num_hi, num_lo, denom_hi, denom_lo,
                              ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                              ad1, ad2,
                              cfg);
        }
        else {
        */
        /*num    = m1 * m2; */
        long_multiply(m1, m2*pdevcb->syncdsync_cb.P_client);
        num_hi = hi_word;
        num_lo = low_word;

        /* denom  = n1 * n2 * k_divider; */
        long_multiply(n1*k_divider, n2*239);
        denom_hi = hi_word;
        denom_lo = low_word;

        /* $ac1    = 0; */
        ac1_hi = 0;
        ac1_lo = 0;

        /* $ac2 = $n1 * $n2; */
        long_multiply(n1, n2*pdevcb->syncdsync_cb.P_client);
        ac2_hi = hi_word;
        ac2_lo = low_word;

        ad1 = 0;                               
        ad2 = 4*num_pjo_odtu23*pdevcb->syncdsync_cb.P_client;

        ten_syncdsyncrx_cfg(module_id_line,
                            slice_line,
                            num_hi, num_lo, denom_hi, denom_lo,
                            ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                            ad1, ad2,
                            cfg);
        /* } */

        /* Client TX */
        ten_syncdsync_config_1_to_1(module_id_client,
                                    slice_client,
                                    ((module_id_line & 1) * 4) + slice_line,
                                    CS_TX,
                                    k_divider);
      }
      else if(method == TEN_1TO1_ASYNC_1LEVEL) {
        n1 = pdevcb->syncdsync_cb.P_line*16*4*4;
        m1 = 238*16*4*4 - num_just_odtu23;
        n2 = 1;
        m2 = 1;

         /*num    = m1 * m2; */
        long_multiply(m1, m2);
        num_hi = hi_word;
        num_lo = low_word;

        /* denom  = n1 * n2 * k_divider; */
        long_multiply(n1*64, n2);
        denom_hi = hi_word;
        denom_lo = low_word;

        /* ac1 = n1 * m2; */
        ac1_hi = 0;
        ac1_lo = 0;

        /* ac2 = n1 * n2; */
        long_multiply(n1, n2);
        ac2_hi = hi_word;
        ac2_lo = low_word;

        ad1 = 0;
        ad2 = 4 * num_pjo_odtu23;

        cfg    = 0x03;
        cfgpd0 = 0x01;
        jc_thresh = (cs_uint32)_ten_floor((cs_float)(2.0 * ((cs_float)64)/((2.0 * (cs_float)num_pjo_odtu23) + 1.0)));
        max_pjo = num_pjo_odtu23 > num_pjo_odu2 ? num_pjo_odtu23 : num_pjo_odu2;

        /* Client RX */
        ten_syncdsync_config_1_to_1(module_id_client,
                                    slice_client,
                                    ((module_id_line & 1) * 4) + slice_line,
                                    CS_RX, 
                                    64);

        /* Line TX */
        ten_syncdsynctx_cfg(module_id_line,
                            slice_line,
                            ((module_id_client & 1) * 4) + slice_client, 
                            num_hi, num_lo, denom_hi, denom_lo,
                            ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                            ad1, ad2,
                            cfg, cfgpd0,
                            jc_thresh,
                            max_pjo);

        /* denom  = n1 * n2 * k_divider; */
        long_multiply(n1*k_divider, n2);
        denom_hi = hi_word;
        denom_lo = low_word;

        /* Line RX */
        ten_syncdsyncrx_cfg(module_id_line,
                            slice_line,
                            num_hi, num_lo, denom_hi, denom_lo,
                            ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                            ad1, ad2,
                            cfg);

        /* Client TX */
        ten_syncdsync_config_1_to_1(module_id_client,
                                    slice_client,
                                    ((module_id_line & 1) * 4) + slice_line,
                                    CS_TX, 
                                    k_divider);
      }
      else if(method == TEN_BOTH_1TO1) {
        /* Client RX */
        ten_syncdsync_config_1_to_1(module_id_client,
                                    slice_client,
                                    ((module_id_line & 1) * 4) + slice_line,
                                    CS_RX, 
                                    k_divider);
        /* Line TX */
        ten_syncdsync_config_1_to_1(module_id_line,
                                    slice_line,
                                    ((module_id_client & 1) * 4) + slice_client,
                                    CS_TX, 
                                    k_divider);
        /* Line RX */
        ten_syncdsync_config_1_to_1(module_id_line,
                                    slice_line,
                                    ((module_id_client & 1) * 4) + slice_client,
                                    CS_RX, 
                                    k_divider);
        /* Client TX */
        ten_syncdsync_config_1_to_1(module_id_client,
                                    slice_client,
                                    ((module_id_line & 1) * 4) + slice_line,
                                    CS_TX, 
                                    k_divider);
        /* Bugzilla 24628 Start */
        /* Calculate hysteresis for deterministic justification clients */
        ten_calc_hyst(dev_id);
        /* Bugzilla 24628 End */
      }
      break;
    
    case TEN_10G_TRANSPONDER:
    /* Bugzilla 24645 Start */  
    case TEN_10G_WIRE:
    /* Bugzilla 24645 End */  
      num_just_odu2   = pdevcb->syncdsync_cb.num_just_oxu2;
      num_pjo_odu2    = pdevcb->syncdsync_cb.num_pjo_oxu2;

      if(sync_mode) {
        if(pdevcb->syncdsync_cb.line_client_same) {
          /* Line type and client type are identical */
          if(pdevcb->syncdsync_cb.line_client_rate_equal) {
            /* Line rate = Client rate */
            /* Client RX */
            ten_syncdsync_config_1_to_1(module_id_client,
                                        slice_client,
                                        ((module_id_line & 1) * 4) + slice_line,
                                        CS_RX, 
                                        k_divider);
            /* Line TX */
            ten_syncdsync_config_1_to_1(module_id_line,
                                        slice_line,
                                        ((module_id_client & 1) * 4) + slice_client,
                                        CS_TX, 
                                        k_divider);
            /* Line RX */
            ten_syncdsync_config_1_to_1(module_id_line,
                                        slice_line,
                                        ((module_id_client & 1) * 4) + slice_client,
                                        CS_RX, 
                                        k_divider);
            /* Client TX */
            ten_syncdsync_config_1_to_1(module_id_client,
                                        slice_client,
                                        ((module_id_line & 1) * 4) + slice_line,
                                        CS_TX, 
                                        k_divider);
          }
          /* Line rate != Client rate */
          else {
            /* Client RX */
            n1 = pdevcb->syncdsync_cb.P_client*16*4;
            m1 = pdevcb->syncdsync_cb.P_line*16*4;
            n2 = 1;
            m2 = 1;

            /*num    = m1 * m2; */
            long_multiply(m1, m2);
            num_hi = hi_word;
            num_lo = low_word;

            /* denom  = n1 * n2 * k_divider; */
            long_multiply(n1*k_divider, n2);
            denom_hi = hi_word;
            denom_lo = low_word;

            ten_syncdsyncrx_cfg(module_id_client,
                                slice_client,
                                num_hi, num_lo, denom_hi, denom_lo,
                                0,0,0,0,0,0,0);

            /* Line TX */
            ten_syncdsync_config_1_to_1(module_id_line,
                                        slice_line,
                                        ((module_id_client & 1) * 4) + slice_client,
                                        CS_TX, 
                                        k_divider);


            /* Line RX */
            n1 = pdevcb->syncdsync_cb.P_line*16*4;
            m1 = pdevcb->syncdsync_cb.P_client*16*4;
            n2 = 1;
            m2 = 1;

            /*num    = m1 * m2; */
            long_multiply(m1, m2);
            num_hi = hi_word;
            num_lo = low_word;

            /* denom  = n1 * n2 * k_divider; */
            long_multiply(n1*k_divider, n2);
            denom_hi = hi_word;
            denom_lo = low_word;

            ten_syncdsyncrx_cfg(module_id_line,
                                slice_line,
                                num_hi, num_lo, denom_hi, denom_lo,
                                0,0,0,0,0,0,0);

            /* Client TX */
            ten_syncdsync_config_1_to_1(module_id_client,
                                        slice_client,
                                        ((module_id_line & 1) * 4) + slice_line,
                                        CS_TX, 
                                        k_divider);
          }
        } 
        /* Line type and client type are different */
        else {
          /* Client RX */
          n1 = pdevcb->syncdsync_cb.Q_line*16*4*pdevcb->syncdsync_cb.transcode_num;
          m1 = pdevcb->syncdsync_cb.P_line*16*4*pdevcb->syncdsync_cb.transcode_denom;
          n2 = 1;
          m2 = 1;

          /*num    = m1 * m2; */
          long_multiply(m1, m2);
          num_hi = hi_word;
          num_lo = low_word;

          /* denom  = n1 * n2 * k_divider; */
          long_multiply(n1*k_divider, n2);
          denom_hi = hi_word;
          denom_lo = low_word;

          ten_syncdsyncrx_cfg(module_id_client,
                              slice_client,
                              num_hi, num_lo, denom_hi, denom_lo,
                              0,0,0,0,0,0,0);

          /* Line TX */
          ten_syncdsync_config_1_to_1(module_id_line,
                                      slice_line,
                                      ((module_id_client & 1) * 4) + slice_client,
                                      CS_TX, 
                                      k_divider);

          /* Line RX */
          n1 = pdevcb->syncdsync_cb.P_line*16*4*pdevcb->syncdsync_cb.transcode_denom;
          m1 = pdevcb->syncdsync_cb.Q_line*16*4*pdevcb->syncdsync_cb.transcode_num;
          n2 = 1;
          m2 = 1;

          /*num    = m1 * m2; */
          long_multiply(m1, m2);
          num_hi = hi_word;
          num_lo = low_word;

          /* denom  = n1 * n2 * k_divider; */
          long_multiply(n1*k_divider, n2);
          denom_hi = hi_word;
          denom_lo = low_word;

          ten_syncdsyncrx_cfg(module_id_line,
                              slice_line,
                              num_hi, num_lo, denom_hi, denom_lo,
                              0,0,0,0,0,0,0);

          /* Client TX */
          ten_syncdsync_config_1_to_1(module_id_client,
                                      slice_client,
                                      ((module_id_line & 1) * 4) + slice_line,
                                      CS_TX, 
                                      k_divider);
        }
      }
      else { /* ASYNC */
        if(pdevcb->syncdsync_cb.line_client_same) {
          num_just_odu2 = 64;  /* Can we read from clock file */

          m1 = 238*16*4 - num_just_odu2; 
          n2 = 1;
          m2 = 1;

          /*num    = m1 * m2; */
          long_multiply(m1, m2);
          num_hi = hi_word;
          num_lo = low_word;

          /* ac1 = n1 * m2; */
          ac1_hi = 0;
          ac1_lo = 0;

          ad1 = 0;
          ad2 = 1;

          cfg    = 0;
          cfgpd0 = 0x01;

          jc_thresh = (cs_uint32)_ten_floor((cs_float)(2.0 * ((cs_float)64)/((2.0 * (cs_float)num_pjo_odu2) + 1.0)));
          max_pjo = num_pjo_odu2;

          /* Client RX */
          n1 = pdevcb->syncdsync_cb.P_client*16*4;

          /* denom  = n1 * n2 * k_divider; */
          long_multiply(n1*64, n2);
          denom_hi = hi_word;
          denom_lo = low_word;

          /* ac2 = n1 * n2; */
          long_multiply(n1, n2);
          ac2_hi = hi_word;
          ac2_lo = low_word;

          ten_syncdsyncrx_cfg(module_id_client,
                              slice_client,
                              num_hi, num_lo, denom_hi, denom_lo,
                              ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                              ad1, ad2,
                              cfg);

          /* Line TX */
          n1 = pdevcb->syncdsync_cb.P_line*16*4;

          /* denom  = n1 * n2 * k_divider; */
          long_multiply(n1*64, n2);
          denom_hi = hi_word;
          denom_lo = low_word;

          /* ac2 = n1 * n2; */
          long_multiply(n1, n2);
          ac2_hi = hi_word;
          ac2_lo = low_word;

          ten_syncdsynctx_cfg(module_id_line,
                              slice_line,
                              ((module_id_client & 1) * 4) + slice_client, 
                              num_hi, num_lo, denom_hi, denom_lo,
                              ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                              ad1, ad2,
                              cfg, cfgpd0,
                              jc_thresh,
                              max_pjo);

          /* Line RX */
          n1 = pdevcb->syncdsync_cb.P_line*16*4;

          /* ac2 = n1 * n2; */
          long_multiply(n1, n2);
          ac2_hi = hi_word;
          ac2_lo = low_word;

          /* denom  = n1 * n2 * k_divider; */
          long_multiply(n1*64, n2);
          denom_hi = hi_word;
          denom_lo = low_word;

          ten_syncdsyncrx_cfg(module_id_line,
                              slice_line,
                              num_hi, num_lo, denom_hi, denom_lo,
                              ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                              ad1, ad2,
                              cfg);

          /* Client TX */
          n1 = pdevcb->syncdsync_cb.P_client*16*4;

          /* denom  = n1 * n2 * k_divider; */
          long_multiply(n1*64, n2);
          denom_hi = hi_word;
          denom_lo = low_word;

          /* ac2 = n1 * n2; */
          long_multiply(n1, n2);
          ac2_hi = hi_word;
          ac2_lo = low_word;

          ten_syncdsynctx_cfg(module_id_client,
                              slice_client,
                              ((module_id_line & 1) * 4) + slice_line, 
                              num_hi, num_lo, denom_hi, denom_lo,
                              ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                              ad1, ad2,
                              cfg, cfgpd0,
                              jc_thresh,
                              max_pjo);
        }
        else {
          /* Client RX */
          ten_syncdsync_config_1_to_1(module_id_client,
                                      slice_client,
                                      ((module_id_line & 1) * 4) + slice_line,
                                      CS_RX, 
                                      k_divider);

          /* Bugzilla 24797 Start */
          /* n1 = pdevcb->syncdsync_cb.P_line*16*4*pdevcb->syncdsync_cb.transcode_denom; */
          /* m1 = (238*16*4 - num_just_odu2)*pdevcb->syncdsync_cb.transcode_num;; */
          n1 = pdevcb->syncdsync_cb.P_line*16*4;
          m1 = (238*16*4 - num_just_odu2);
          n2 = 1;
          m2 = 1;

          /*num    = m1 * m2 * trans_num; */
          /* long_multiply(m1, m2); */
          long_multiply(m1, m2*pdevcb->syncdsync_cb.transcode_num);
          num_hi = hi_word;
          num_lo = low_word;

          /* denom  = n1 * n2 * k_divider * trans_denom; */
          /* long_multiply(n1*k_divider, n2); */
          long_multiply(n1*k_divider, n2*pdevcb->syncdsync_cb.transcode_denom);
          denom_hi = hi_word;
          denom_lo = low_word;

          /* ac1 = n1 * m2; */
          ac1_hi = 0;
          ac1_lo = 0;

          /* ac2 = n1 * n2 * trans_num; */
          /* long_multiply(n1, n2); */
          long_multiply(n1, n2*pdevcb->syncdsync_cb.transcode_num);
          ac2_hi = hi_word;
          ac2_lo = low_word;

          ad1 = 0;
          /* ad2 = num_pjo_odu2 * trans_num; */
          ad2 = num_pjo_odu2*pdevcb->syncdsync_cb.transcode_num;
          /* Bugzilla 24797 End */

          cfg    = 0;
          cfgpd0 = 0x01;

          jc_thresh = (cs_uint32)_ten_floor((cs_float)(2.0 * ((cs_float)k_divider)/((2.0 * (cs_float)num_pjo_odu2) + 1.0)));
          max_pjo = num_pjo_odu2;

          /* Line TX */
          ten_syncdsynctx_cfg(module_id_line,
                              slice_line,
                              ((module_id_client & 1) * 4) + slice_client, 
                              num_hi, num_lo, denom_hi, denom_lo,
                              ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                              ad1, ad2,
                              cfg, cfgpd0,
                              jc_thresh,
                              max_pjo);

          /* Line RX */
          ten_syncdsyncrx_cfg(module_id_line,
                              slice_line,
                              num_hi, num_lo, denom_hi, denom_lo,
                              ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                              ad1, ad2,
                              cfg);

          /* Client TX */
          ten_syncdsync_config_1_to_1(module_id_client,
                                      slice_client,
                                      ((module_id_line & 1) * 4) + slice_line,
                                      CS_TX, 
                                      k_divider);
        }
      }
      break;
    
    /* Bugzilla 22514 Start */
    case TEN_10G_LOOPBACK:
    case TEN_40G_LOOPBACK:
    case TEN_10G_KPGA:
    case TEN_40G_KPGA:
    case TEN_10G_PBERT:
      /* Line TX */
      ten_syncdsync_config_1_to_1(module_id_line,
                                  slice_line,
                                  ((module_id_line & 1) * 4) + slice_line,
                                  CS_TX, 
                                  k_divider);
      /* Line RX */
      ten_syncdsync_config_1_to_1(module_id_line,
                                  slice_line,
                                  ((module_id_line & 1) * 4) + slice_line,
                                  CS_RX, 
                                  k_divider);
      break;
    /* Bugzilla 22514 End */
  
  }
RTN_EXIT:
  return (rtn);
}

/* Bugzilla 26608 Start */
/********************************************************************/
/* $rtn_hdr_start  SYNCDSYNC DATAPATH CONFIG                        */
/* CATEGORY   : API                                                 */
/* ACCESS     : Public                                              */
/* BLOCK      : HIGH LEVEL                                          */
/* CHIP       : Tenabo                                              */
cs_status ten_hl_syncdsync_datapath_config_v2(cs_uint16 module_id_line,
                                           cs_uint8 slice_line, 
                                           cs_uint16 module_id_client,
                                           cs_uint8 slice_client,
                                           cs_uint8 mode,
                                           cs_uint8 sync_mode,
                                           cs_uint16 method,
                                           cs_uint8 k_divider_line,
                                           cs_uint8 k_divider_client,
                                           cs_uint8 line_fec,
                                           cs_uint8 client_fec)
/* INPUTS     : o Line Module Id                                    */
/*              o Line Slice                                        */
/*              o Client Module Id                                  */
/*              o Client Slice                                      */
/*              o Mode                                              */
/*              o Sync mode                                         */
/*              o Method                                            */
/*              o k divider_line                                    */
/*              o k divider_client                                  */
/*              o Line FEC                                          */
/*              o Client FEC                                        */
/* OUTPUTS    : ----                                                */
/* RETURNS    : CS_OK or CS_ERROR                                   */
/* DESCRIPTION:                                                     */
/* Configures line and client syncdsync blocks based on mode and    */
/* sync_mode                                                        */
/*                                                                  */
/*   [slice_line]  Specified as TEN_SLICE0 (0), TEN_SLICE1 (1),     */
/*     TEN_SLICE2 (2), TEN_SLICE3 (3) or TEN_SLICE_ALL (0xFF)       */
/*                                                                  */
/*   [slice_client]  Specified as TEN_SLICE0 (0), TEN_SLICE1 (1),   */
/*     TEN_SLICE2 (2), TEN_SLICE3 (3) or TEN_SLICE_ALL (0xFF)       */
/*                                                                  */
/*   [mode] specifies one of the three modes                        */
/*     TEN_40G_TRANSPONDER  = 0 (40G to 40G)                        */
/*     TEN_40G_MUXPONDER    = 1 (10G to 40G)                        */
/*     TEN_10G_TRANSPONDER  = 2 (10G to 10G)                        */
/*     TEN_10G_LOOPBACK     = 3                                     */
/*     TEN_40G_LOOPBACK     = 4                                     */
/*     TEN_10G_KPGA         = 5                                     */
/*     TEN_40G_KPGA         = 6                                     */
/*     TEN_10G_PBERT        = 7                                     */
/*                                                                  */
/*   [sync_mode] specifies synchronous or asynchronous mapping      */
/*     0 = Asynchronous                                             */
/*     1 = Synchronous                                              */
/*                                                                  */
/*   [method] specifies how syncdysnc blocks can be configured for  */
/*            40G applications                                      */
/*     TEN_1TO1_ASYNC_2LEVEL = 0                                    */
/*       Client -  1:1                                              */    
/*       Line   -  Async 2 level mapping                            */
/*     TEN_SYNC_ASYNC_1LEVEL = 1                                    */
/*       Client -  Sync  1 level mapping                            */  
/*       Line   -  Async 1 level mapping                            */
/*     TEN_1TO1_ASYNC_1LEVEL = 2                                */
/*       Client -  1:1                                              */
/*       Line   -  Async 1 level mapping                            */
/*     TEN_BOTH_1TO1         = 3                                    */
/*       Client -  1:1                                              */
/*       Line   -  1:1                                              */
/*                                                                  */
/*   [k_divider_*] specifies the value of constant 'k'              */
/*     Async : 16 - 64                                              */
/*     Sync  : 16 - 255                                             */
/*                                                                  */
/*   [line_fec] specifies the line FEC type                         */
/*     TEN_FEC_MODE_NOFEC = 15, or                                  */
/*     Any other FEC% as per ten_fec_ovhd_t = 0 -14                 */
/*                                                                  */
/*   [client_fec] specifies the client FEC type                     */
/*     TEN_FEC_MODE_NOFEC = 15, or                                  */
/*     Any other FEC% as per ten_fec_ovhd_t = 0 -14                 */
/*                                                                  */
/* $rtn_hdr_end                                                     */
/********************************************************************/
{
  cs_status rtn = CS_OK;
  cs_uint16 dev_id;
  ten_dev_cb_t *pdevcb;

  cs_uint32 n1, n2, m1, m2;
  cs_uint32 num_hi, num_lo, denom_hi, denom_lo, ac1_hi=0, ac1_lo=0, ac2_hi=0, ac2_lo=0, ad1=0, ad2=0;
  cs_uint8 cfg=0, cfgpd0=0, jc_thresh=0;
  /*cs_uint8 transcode_num=1, transcode_den=1;  -- initialize it outside of here */
  cs_int16 num_just_odtu23, num_just_odu3, num_just_odu2;
  cs_uint16 num_pjo_odtu23, num_pjo_odu3, num_pjo_odu2;
  cs_uint8 max_pjo;
  cs_char8 *func = "ten_hl_syncdsync_datapath_config";  

  /* Bugzilla 22514 Start */
  /* Bugzilla 24645 Start */  
  if(mode > TEN_40G_WIRE) {
  /* Bugzilla 24645 End */  
  /* Bugzilla 22514 End */
    CS_HNDL_ERROR(module_id_line, ETEN_MOD_INVALID_USER_ARG, ": Invalid mode !");
    rtn = CS_ERROR;
    goto RTN_EXIT;
  }

  if(sync_mode > 1) {
    CS_HNDL_ERROR(module_id_line, ETEN_MOD_INVALID_USER_ARG, ": Invalid sync_mode !");
    rtn = CS_ERROR;
    goto RTN_EXIT;
  }

  if(method > TEN_BOTH_1TO1) {
    CS_HNDL_ERROR(module_id_line, ETEN_MOD_INVALID_USER_ARG, ": nvalid muxponder method !");
    rtn = CS_ERROR;
    goto RTN_EXIT;
  }

  if(sync_mode == 0) {
    if((k_divider_line < 16) || (k_divider_line > 64) || (k_divider_client < 16) || (k_divider_client > 64)) {
      CS_HNDL_ERROR(module_id_line, ETEN_MOD_INVALID_USER_ARG, ": Invalid k - must be 16 - 64 !");
      rtn = CS_ERROR;
      goto RTN_EXIT;
    }
  }
  else {
    if((k_divider_line < 16) || (k_divider_client < 16)) {
      CS_HNDL_ERROR(module_id_line, ETEN_MOD_INVALID_USER_ARG, ": Invalid k - must be 16 - 255 !");
      rtn = CS_ERROR;
      goto RTN_EXIT;
    }
  }

  if(line_fec > TEN_FEC_MODE_MAX_NUM) {
    CS_HNDL_ERROR(module_id_line, ETEN_MOD_INVALID_USER_ARG, ": Invalid line FEC !");
    rtn = CS_ERROR;
    goto RTN_EXIT;
  }

  if(client_fec > TEN_FEC_MODE_MAX_NUM) {
    CS_HNDL_ERROR(module_id_line, ETEN_MOD_INVALID_USER_ARG, ": Invalid client FEC!");
    rtn = CS_ERROR;
    goto RTN_EXIT;
  }


  CS_PRINT("%s() \n", func);
  CS_PRINT("    line %s\n", ten_module_strings[module_id_line&1]);
  CS_PRINT("    slice_line=%d\n", slice_line);
  CS_PRINT("    client %s\n", ten_module_strings[module_id_client&1]);
  CS_PRINT("    slice_client=%d\n", slice_client);
  CS_PRINT("    %s\n", ten_traffic_mode_strings[mode]);
  CS_PRINT("    sync_mode=%d\n", sync_mode);
  CS_PRINT("    %s\n", ten_method_strings[method]);
  CS_PRINT("    k_divider_line=%d\n", k_divider_line);
  CS_PRINT("    k_divider_client=%d\n", k_divider_client);
  CS_PRINT("    line fec=%s\n", ten_fec_ovhd_strings[line_fec]);
  

  dev_id = TEN_MOD_ID_TO_DEV_ID(module_id_line);
  pdevcb = TEN_DEV_ID_TO_DEVCB_PTR(dev_id);
  CS_PRINT("    Q_line=%d\n", pdevcb->syncdsync_cb.Q_line);
  CS_PRINT("    P_line=%d\n", pdevcb->syncdsync_cb.P_line);
  CS_PRINT("    Q_client=%d\n", pdevcb->syncdsync_cb.Q_client);
  CS_PRINT("    P_client=%d\n", pdevcb->syncdsync_cb.P_client);
  CS_PRINT("    num_just_oxu3=%d\n", pdevcb->syncdsync_cb.num_just_oxu3);
  CS_PRINT("    num_pjo_oxu3=%d\n", pdevcb->syncdsync_cb.num_pjo_oxu3);
  CS_PRINT("    transcode_num=%d\n", pdevcb->syncdsync_cb.transcode_num);
  CS_PRINT("    transcode_denom=%d\n", pdevcb->syncdsync_cb.transcode_denom);
  switch(mode) {
    case TEN_40G_TRANSPONDER:
    /* Bugzilla 24645 Start */  
    case TEN_40G_WIRE:
    /* Bugzilla 24645 End */  
      num_just_odu3   = pdevcb->syncdsync_cb.num_just_oxu3;
      num_pjo_odu3    = pdevcb->syncdsync_cb.num_pjo_oxu3;

      if(sync_mode) {
        /* Line type and client type are identical */
        if(pdevcb->syncdsync_cb.line_client_same) {
          /* Line rate = Client rate */
          if(pdevcb->syncdsync_cb.line_client_rate_equal) {
            /* Client RX */
            ten_syncdsync_config_1_to_1(module_id_client,
                                        slice_client,
                                        ((module_id_line & 1) * 4) + slice_line,
                                        CS_RX, 
                                        k_divider_client);
            /* Line TX */
            ten_syncdsync_config_1_to_1(module_id_line,
                                        slice_line,
                                        ((module_id_client & 1) * 4) + slice_client,
                                        CS_TX, 
                                        k_divider_line);
            /* Line RX */
            ten_syncdsync_config_1_to_1(module_id_line,
                                        slice_line,
                                        ((module_id_client & 1) * 4) + slice_client,
                                        CS_RX, 
                                        k_divider_line);
            /* Client TX */
            ten_syncdsync_config_1_to_1(module_id_client,
                                        slice_client,
                                        ((module_id_line & 1) * 4) + slice_line,
                                        CS_TX, 
                                        k_divider_client);
          }
          /* Line rate != Client rate */
          else {
            /* Client RX */
            n1 = pdevcb->syncdsync_cb.P_client*16*4;
            m1 = pdevcb->syncdsync_cb.P_line*16*4;
            n2 = 1;
            m2 = 1;

            /*num    = m1 * m2; */
            long_multiply(m1, m2);
            num_hi = hi_word;
            num_lo = low_word;

            /* denom  = n1 * n2 * k_divider; */
            long_multiply(n1*k_divider_client, n2);
            denom_hi = hi_word;
            denom_lo = low_word;

            ten_syncdsyncrx_cfg(module_id_client,
                                slice_client,
                                num_hi, num_lo, denom_hi, denom_lo,
                                0,0,0,0,0,0,0);

            /* Line TX */
            ten_syncdsync_config_1_to_1(module_id_line,
                                        slice_line,
                                        ((module_id_client & 1) * 4) + slice_client,
                                        CS_TX, 
                                        k_divider_line);

            /* Line RX */
            n1 = pdevcb->syncdsync_cb.P_line*16*4;
            m1 = pdevcb->syncdsync_cb.P_client*16*4;
            n2 = 1;
            m2 = 1;

            /*num    = m1 * m2; */
            long_multiply(m1, m2);
            num_hi = hi_word;
            num_lo = low_word;

            /* denom  = n1 * n2 * k_divider; */
            long_multiply(n1*k_divider_line, n2);
            denom_hi = hi_word;
            denom_lo = low_word;

            ten_syncdsyncrx_cfg(module_id_line,
                                slice_line,
                                num_hi, num_lo, denom_hi, denom_lo,
                                0,0,0,0,0,0,0);

            /* Client TX */
            ten_syncdsync_config_1_to_1(module_id_client,
                                        slice_client,
                                        ((module_id_line & 1) * 4) + slice_line,
                                        CS_TX, 
                                        k_divider_client);
          }
        }
        /* Line type and client type are different */
        else {
          /* Client RX */
          n1 = pdevcb->syncdsync_cb.Q_line*16*4;
          m1 = pdevcb->syncdsync_cb.P_line*16*4;
          n2 = 1;
          m2 = 1;

          /*num    = m1 * m2; */
          long_multiply(m1, m2);
          num_hi = hi_word;
          num_lo = low_word;

          /* denom  = n1 * n2 * k_divider; */
          long_multiply(n1*k_divider_client, n2);
          denom_hi = hi_word;
          denom_lo = low_word;

          ten_syncdsyncrx_cfg(module_id_client,
                              slice_client,
                              num_hi, num_lo, denom_hi, denom_lo,
                              0,0,0,0,0,0,1);

          /* Line TX */
          ten_syncdsync_config_1_to_1(module_id_line,
                                      slice_line,
                                      ((module_id_client & 1) * 4) + slice_client,
                                      CS_TX, 
                                      k_divider_line);

          /* Line RX */
          n1 = pdevcb->syncdsync_cb.P_line*16*4;
          m1 = pdevcb->syncdsync_cb.Q_line*16*4;
          n2 = 1;
          m2 = 1;

          /*num    = m1 * m2; */
          long_multiply(m1, m2);
          num_hi = hi_word;
          num_lo = low_word;

          /* denom  = n1 * n2 * k_divider; */
          long_multiply(n1*k_divider_line, n2);
          denom_hi = hi_word;
          denom_lo = low_word;

          ten_syncdsyncrx_cfg(module_id_line,
                              slice_line,
                              num_hi, num_lo, denom_hi, denom_lo,
                              0,0,0,0,0,0,1);

          /* Client TX */
          ten_syncdsync_config_1_to_1(module_id_client,
                                      slice_client,
                                      ((module_id_line & 1) * 4) + slice_line,
                                      CS_TX, 
                                      k_divider_client);
        }
      }
      else { /* ASYNC */
        /* Bugzilla 24940 Start */
        if (method == TEN_SYNC_ASYNC_1LEVEL) {
            /* Client RX */
            n1 = 1;        /* Only 1 level */
            m1 = 1;        /* Only 1 level */
            n2 = pdevcb->syncdsync_cb.P_client*16*4;   /* 255 */
            /*m2 = 239*16*4;*/
            m2 = pdevcb->syncdsync_cb.Q_client*16*4;   /* 239 */   /* Bugzilla 27167 */

             /*num    = m1 * m2; */
            long_multiply(m1, m2);
            num_hi = hi_word;
            num_lo = low_word;

            /* denom  = n1 * n2 * k_divider; */
            long_multiply(n1*64, n2);
            denom_hi = hi_word;
            denom_lo = low_word;

            /*Client RX */
            ten_syncdsyncrx_cfg(module_id_client,
                                slice_client,
                                num_hi, num_lo, denom_hi, denom_lo,
                                0,0,0,0,0,0,0);


            /* Line TX */
            n1 = pdevcb->syncdsync_cb.P_line*16*4;
            m1 = 238*16*4 - num_just_odu3;  /* OPU - fixed stuff */
            /*m1 = pdevcb->syncdsync_cb.Q_line*16*4 - num_just_odu3;*/
            /*pdevcb->syncdsync_cb.P_client*16*4 - num_just_odu3 ??? */
            n2 = 1;       /* Only 1 level */
            m2 = 1;       /* Only 1 level */

             /*num    = m1 * m2; */
            long_multiply(m1, m2);
            num_hi = hi_word;
            num_lo = low_word;

            /* denom  = n1 * n2 * k_divider; */
            long_multiply(n1*64, n2);
            denom_hi = hi_word;
            denom_lo = low_word;

            /* $ac1    = 0; */
            ac1_hi = 0;
            ac1_lo = 0;    /* ac1_lo = 1 ??? */

            /* $ac2 = $n1/4 * $n2; */
            long_multiply(n1/4, n2);
            ac2_hi = hi_word;
            ac2_lo = low_word;

            ad1 = 0;                               
            ad2 = num_pjo_odu3;

            cfg    = 0x01;   /* OxU3(OPU3)-client Monolithic de-wrapping 1 level of justificaition */
            cfgpd0 = 0x01;
            /* Bugzilla #26345, change name of _floor due to name collisions */
            jc_thresh = (cs_uint32)_ten_floor((cs_float)(2.0 * ((cs_float)64)/((2.0 * (cs_float)num_pjo_odu3) + 1.0)));
            max_pjo = num_pjo_odu3;

            /* Line TX */
            slice_line = 0;
            ten_syncdsynctx_cfg(module_id_line,
                                slice_line,
                                ((module_id_client & 1) * 4) + slice_client, 
                                num_hi, num_lo, denom_hi, denom_lo,
                                ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                                ad1, ad2,
                                cfg, cfgpd0,
                                jc_thresh,
                                max_pjo);

            slice_line = 3;
            ten_syncdsynctx_cfg(module_id_line,
                                slice_line,
                                ((module_id_client & 1) * 4) + slice_client, 
                                num_hi, num_lo, denom_hi, denom_lo,
                                ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                                ad1, ad2,
                                cfg, cfgpd0,
                                jc_thresh,
                                max_pjo);





            /* Line RX */
            /*num    = m1 * m2; */
            long_multiply(m1, m2*pdevcb->syncdsync_cb.P_client); /* pdevcb->syncdsync_cb.Q_client*16*4 */
            /*long_multiply(m1, m2*239)*/;
            num_hi = hi_word;
            num_lo = low_word;

            /*n2 = pdevcb->syncdsync_cb.P_line*16*4;*/ /* Down rate to ODU3 from line */
            
            /* denom  = n1 * n2 * k_divider; */
            /*long_multiply(n1*k_divider, n2*239);*/
            long_multiply(n1*k_divider_line, n2*pdevcb->syncdsync_cb.Q_client);  /* Bugzilla 27167 */
            denom_hi = hi_word;
            denom_lo = low_word;

            /* $ac1    = 0; */
            ac1_hi = 0;
            ac1_lo = 0;

            /* $ac2 = $n1/4 * $n2; */
            long_multiply(n1/4, n2*pdevcb->syncdsync_cb.P_client);
            ac2_hi = hi_word;
            ac2_lo = low_word;

            ad1 = 0;                               
            ad2 = num_pjo_odu3*pdevcb->syncdsync_cb.P_client;
            /*ad2 = num_pjo_odu3;*/

            slice_line = 0;
            ten_syncdsyncrx_cfg(module_id_line,
                                slice_line,
                                num_hi, num_lo, denom_hi, denom_lo,
                                ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                                ad1, ad2,
                                cfg);
            slice_line = 3;
            ten_syncdsyncrx_cfg(module_id_line,
                                slice_line,
                                num_hi, num_lo, denom_hi, denom_lo,
                                ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                                ad1, ad2,
                                cfg);

            /* Client TX */
            /* slice_line = 3 so that clock with RX justifications is used */
            ten_syncdsync_config_1_to_1(module_id_client,
                                        slice_client,
                                        ((module_id_line & 1) * 4) + slice_line,
                                        CS_TX,
                                        k_divider_client);
        }
        else {
          /* method = TEN_1TO1_ASYNC_1LEVEL */
          /* Client RX */
          ten_syncdsync_config_1_to_1(module_id_client,
                                      slice_client,
                                      ((module_id_line & 1) * 4) + slice_line,
                                      CS_RX, 
                                      64);

          /* Line TX */
          n1 = pdevcb->syncdsync_cb.P_line*16*4;
          m1 = pdevcb->syncdsync_cb.P_client*16*4 - num_just_odu3;
          n2 = 1;
          m2 = 1;

          /* num = m1 * m2; */
          long_multiply(m1, m2 * pdevcb->syncdsync_cb.transcode_num);   /* Bugzilla 26781 */
          num_hi = hi_word;
          num_lo = low_word;

          /* denom  = n1 * n2 * k_divider; */
          long_multiply(n1*64, n2 * pdevcb->syncdsync_cb.transcode_denom);   /* Bugzilla 26781 */
          denom_hi = hi_word;
          denom_lo = low_word;

          /* ac1 = 1; */
          ac1_hi = 0;
          ac1_lo = 1;

          /* ac2 = n1 * n2; */
          long_multiply(n1/4, n2 * pdevcb->syncdsync_cb.transcode_num);  /* Bugzilla 26781 */
          ac2_hi = hi_word;
          ac2_lo = low_word;

          ad1 = 0;
          ad2 = num_pjo_odu3 * pdevcb->syncdsync_cb.transcode_num;  /* Bugzilla 26781 */

          cfg = 0x01;
          cfgpd0 = 0x01;
          jc_thresh = (cs_uint32)_ten_floor((cs_float)(2.0 * ((cs_float)64)/((2.0 * (cs_float)num_pjo_odu3) + 1.0)));
          max_pjo = num_pjo_odu3;

          /* Line TX */
          slice_line = 0;
          ten_syncdsynctx_cfg(module_id_line,
                              slice_line,
                              ((module_id_client & 1) * 4), 
                              num_hi, num_lo, denom_hi, denom_lo,
                              ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                              ad1, ad2,
                              cfg, cfgpd0,
                              jc_thresh,
                              max_pjo);

          slice_line = 3;
          ten_syncdsynctx_cfg(module_id_line,
                              slice_line,
                              ((module_id_client & 1) * 4), 
                              num_hi, num_lo, denom_hi, denom_lo,
                              ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                              ad1, ad2,
                              cfg, cfgpd0,
                              jc_thresh,
                              max_pjo);

          /* denom  = n1 * n2 * k_divider; */
          long_multiply(n1*k_divider_line, n2 * pdevcb->syncdsync_cb.transcode_denom); /* Bugzilla 26781 */
          denom_hi = hi_word;
          denom_lo = low_word;

          /* Line RX */
          slice_line = 0;
          ten_syncdsyncrx_cfg(module_id_line,
                              slice_line,
                              num_hi, num_lo, denom_hi, denom_lo,
                              ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                              ad1, ad2,
                              cfg);

          slice_line = 3;
          ten_syncdsyncrx_cfg(module_id_line,
                              slice_line,
                              num_hi, num_lo, denom_hi, denom_lo,
                              ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                              ad1, ad2,
                              cfg);

          /* Client TX */
          ten_syncdsync_config_1_to_1(module_id_client,
                                      slice_client,
                                      ((module_id_line & 1) * 4) + slice_line,
                                      CS_TX, 
                                      k_divider_client);
        }
      }
      break;
  
    case TEN_40G_MUXPONDER:
      num_just_odtu23 = pdevcb->syncdsync_cb.num_just_oxu3;
      num_pjo_odtu23  = pdevcb->syncdsync_cb.num_pjo_oxu3;
      num_just_odu2   = pdevcb->syncdsync_cb.num_just_oxu2;
      num_pjo_odu2    = pdevcb->syncdsync_cb.num_pjo_oxu2;
      CS_PRINT("%s() TEN_40G_MUXPONDER\n", func);
      CS_PRINT("    num_just_odtu23=%d\n", num_just_odtu23);
      CS_PRINT("    num_pjo_odtu23=%d\n", num_pjo_odtu23);
      CS_PRINT("    num_just_odu2=%d\n", num_just_odu2);
      CS_PRINT("    num_pjo_odu2=%d\n", num_pjo_odu2);

      if(method == TEN_1TO1_ASYNC_2LEVEL) {
        n1 = pdevcb->syncdsync_cb.P_line*16*4*4;
        m1 = 238*16*4*4 - num_just_odtu23;
        /* Bugzilla 24797 Start */
        /* n2 = 239*16*4*pdevcb->syncdsync_cb.transcode_denom;
        m2 = (238*16*4-num_just_odu2)*pdevcb->syncdsync_cb.transcode_num; */
        n2 = 239*16*4;
        m2 = (238*16*4-num_just_odu2);
        CS_PRINT("    n1=0x%X\n", n1);
        CS_PRINT("    m1=0x%X\n", m1);
        CS_PRINT("    n2=0x%X\n", n2);
        CS_PRINT("    m2=0x%X\n", m2);

         /*num    = m1 * m2 * trans_num; */
        /* long_multiply(m1, m2); */
        long_multiply(m1, m2*pdevcb->syncdsync_cb.transcode_num);
        num_hi = hi_word;
        num_lo = low_word;

        /* denom  = n1 * n2 * k_divider * trans_denom; */
        /* long_multiply(n1*64, n2); */
        long_multiply(n1*64, n2*pdevcb->syncdsync_cb.transcode_denom);
        denom_hi = hi_word;
        denom_lo = low_word;

        /* ac1 = n1 * m2 * trans_num; */
        /* long_multiply(n1, m2); */
        long_multiply(n1, m2*pdevcb->syncdsync_cb.transcode_num);
        ac1_hi = hi_word;
        ac1_lo = low_word;

        /* ac2 = n1 * n2 * trans_num; */
        /* long_multiply(n1, n2); */
        long_multiply(n1, n2*pdevcb->syncdsync_cb.transcode_num);
        ac2_hi = hi_word;
        ac2_lo = low_word;

        /* ad1 = 4 * num_pjo_odtu23 * m2 * trans_num; */
        /* ad2 = (m1+4) * num_pjo_odu2 * trans_num; */
        ad1 = 4 * num_pjo_odtu23 * m2 * pdevcb->syncdsync_cb.transcode_num;       
        ad2 = (m1+4) * num_pjo_odu2 * pdevcb->syncdsync_cb.transcode_num;
        /* Bugzilla 24797 End */

        cfg    = 0x03;
        cfgpd0 = 0x01;
        jc_thresh = (cs_uint32)_ten_floor((cs_float)(2.0 * ((cs_float)64)/((2.0 * (cs_float)num_pjo_odtu23) + 1.0)));
        max_pjo = num_pjo_odtu23 > num_pjo_odu2 ? num_pjo_odtu23 : num_pjo_odu2;

        /* Client RX */
        ten_syncdsync_config_1_to_1(module_id_client,
                                    slice_client,
                                    ((module_id_line & 1) * 4) + slice_line,
                                    CS_RX, 
                                    64);

        /* Line TX */
        ten_syncdsynctx_cfg(module_id_line,
                            slice_line,
                            ((module_id_client & 1) * 4) + slice_client, 
                            num_hi, num_lo, denom_hi, denom_lo,
                            ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                            ad1, ad2,
                            cfg, cfgpd0,
                            jc_thresh,
                            max_pjo);

        /* denom  = n1 * n2 * k_divider; */
        /* Bugzilla 24797 Reopen Start */
        /* We need to multiply the denominator by pdevcb->syncdsync_cb.transcode_denom */
        long_multiply(n1*k_divider_line, n2*pdevcb->syncdsync_cb.transcode_denom);
        /* Bugzilla 24797 Reopen End */
        denom_hi = hi_word;
        denom_lo = low_word;

        /* Line RX */
        ten_syncdsyncrx_cfg(module_id_line,
                            slice_line,
                            num_hi, num_lo, denom_hi, denom_lo,
                            ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                            ad1, ad2,
                            cfg);

        /* Client TX */
        ten_syncdsync_config_1_to_1(module_id_client,
                                    slice_client,
                                    ((module_id_line & 1) * 4) + slice_line,
                                    CS_TX, 
                                    k_divider_client);

        /* Calculate hysteresis for deterministic justification clients */
        ten_calc_hyst(dev_id);
      }
      else if(method == TEN_SYNC_ASYNC_1LEVEL) {
        n1 = 1;
        m1 = 1;
        n2 = pdevcb->syncdsync_cb.P_client*16*4;
        m2 = 239*16*4;

         /*num    = m1 * m2; */
        long_multiply(m1, m2);
        num_hi = hi_word;
        num_lo = low_word;

        /* denom  = n1 * n2 * k_divider; */
        long_multiply(n1*64, n2);
        denom_hi = hi_word;
        denom_lo = low_word;

        /*Client RX */
        if(client_fec == TEN_FEC_MODE_NOFEC) {
          ten_syncdsync_config_1_to_1(module_id_client,
                                      slice_client,
                                      ((module_id_line & 1) * 4) + slice_line,
                                      CS_RX,
                                      64);
        }
        else {
          ten_syncdsyncrx_cfg(module_id_client,
                              slice_client,
                              num_hi, num_lo, denom_hi, denom_lo,
                              0,0,0,0,0,0,0);
        }

        n1 = pdevcb->syncdsync_cb.P_line*16*4*4;
        m1 = 238*16*4*4 - num_just_odtu23;
        n2 = 1;
        m2 = 1;

         /*num    = m1 * m2; */
        long_multiply(m1, m2);
        num_hi = hi_word;
        num_lo = low_word;

        /* denom  = n1 * n2 * k_divider; */
        long_multiply(n1*64, n2);
        denom_hi = hi_word;
        denom_lo = low_word;

        /* $ac1    = 0; */
        ac1_hi = 0;
        ac1_lo = 0;

        /* $ac2 = $n1 * $n2; */
        long_multiply(n1, n2);
        ac2_hi = hi_word;
        ac2_lo = low_word;

        ad1 = 0;                               
        ad2 = 4 * num_pjo_odtu23;

        cfg    = 0x02;
        cfgpd0 = 0x01;
        jc_thresh = (cs_uint32)_ten_floor((cs_float)(2.0 * ((cs_float)64)/((2.0 * (cs_float)num_pjo_odtu23) + 1.0)));
        max_pjo = num_pjo_odtu23 > num_pjo_odu2 ? num_pjo_odtu23 : num_pjo_odu2;

        /* Line TX */
        ten_syncdsynctx_cfg(module_id_line,
                            slice_line,
                            ((module_id_client & 1) * 4) + slice_client, 
                            num_hi, num_lo, denom_hi, denom_lo,
                            ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                            ad1, ad2,
                            cfg, cfgpd0,
                            jc_thresh,
                            max_pjo);

        /* Line RX */
        /* Bugzilla 21146 - Line RX has to be multiplied by a ratio to get the correct rate
        if(line_fec == TEN_FEC_MODE_NOFEC) {
          ten_syncdsyncrx_cfg(module_id_line,
                              slice_line,
                              num_hi, num_lo, denom_hi, denom_lo,
                              ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                              ad1, ad2,
                              cfg);
        }
        else {
        */
        /*num    = m1 * m2; */
        long_multiply(m1, m2*pdevcb->syncdsync_cb.P_client);
        num_hi = hi_word;
        num_lo = low_word;

        /* denom  = n1 * n2 * k_divider; */
        long_multiply(n1*k_divider_line, n2*239);
        denom_hi = hi_word;
        denom_lo = low_word;

        /* $ac1    = 0; */
        ac1_hi = 0;
        ac1_lo = 0;

        /* $ac2 = $n1 * $n2; */
        long_multiply(n1, n2*pdevcb->syncdsync_cb.P_client);
        ac2_hi = hi_word;
        ac2_lo = low_word;

        ad1 = 0;                               
        ad2 = 4*num_pjo_odtu23*pdevcb->syncdsync_cb.P_client;

        ten_syncdsyncrx_cfg(module_id_line,
                            slice_line,
                            num_hi, num_lo, denom_hi, denom_lo,
                            ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                            ad1, ad2,
                            cfg);
        /* } */

        /* Client TX */
        ten_syncdsync_config_1_to_1(module_id_client,
                                    slice_client,
                                    ((module_id_line & 1) * 4) + slice_line,
                                    CS_TX,
                                    k_divider_client);
      }
      else if(method == TEN_1TO1_ASYNC_1LEVEL) {
        n1 = pdevcb->syncdsync_cb.P_line*16*4*4;
        m1 = 238*16*4*4 - num_just_odtu23;
        n2 = 1;
        m2 = 1;

         /*num    = m1 * m2; */
        long_multiply(m1, m2);
        num_hi = hi_word;
        num_lo = low_word;

        /* denom  = n1 * n2 * k_divider; */
        long_multiply(n1*64, n2);
        denom_hi = hi_word;
        denom_lo = low_word;

        /* ac1 = n1 * m2; */
        ac1_hi = 0;
        ac1_lo = 0;

        /* ac2 = n1 * n2; */
        long_multiply(n1, n2);
        ac2_hi = hi_word;
        ac2_lo = low_word;

        ad1 = 0;
        ad2 = 4 * num_pjo_odtu23;

        cfg    = 0x03;
        cfgpd0 = 0x01;
        jc_thresh = (cs_uint32)_ten_floor((cs_float)(2.0 * ((cs_float)64)/((2.0 * (cs_float)num_pjo_odtu23) + 1.0)));
        max_pjo = num_pjo_odtu23 > num_pjo_odu2 ? num_pjo_odtu23 : num_pjo_odu2;

        /* Client RX */
        ten_syncdsync_config_1_to_1(module_id_client,
                                    slice_client,
                                    ((module_id_line & 1) * 4) + slice_line,
                                    CS_RX, 
                                    64);

        /* Line TX */
        ten_syncdsynctx_cfg(module_id_line,
                            slice_line,
                            ((module_id_client & 1) * 4) + slice_client, 
                            num_hi, num_lo, denom_hi, denom_lo,
                            ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                            ad1, ad2,
                            cfg, cfgpd0,
                            jc_thresh,
                            max_pjo);

        /* denom  = n1 * n2 * k_divider; */
        long_multiply(n1*k_divider_line, n2);
        denom_hi = hi_word;
        denom_lo = low_word;

        /* Line RX */
        ten_syncdsyncrx_cfg(module_id_line,
                            slice_line,
                            num_hi, num_lo, denom_hi, denom_lo,
                            ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                            ad1, ad2,
                            cfg);

        /* Client TX */
        ten_syncdsync_config_1_to_1(module_id_client,
                                    slice_client,
                                    ((module_id_line & 1) * 4) + slice_line,
                                    CS_TX, 
                                    k_divider_client);
      }
      else if(method == TEN_BOTH_1TO1) {
        /* Client RX */
        ten_syncdsync_config_1_to_1(module_id_client,
                                    slice_client,
                                    ((module_id_line & 1) * 4) + slice_line,
                                    CS_RX, 
                                    k_divider_client);
        /* Line TX */
        ten_syncdsync_config_1_to_1(module_id_line,
                                    slice_line,
                                    ((module_id_client & 1) * 4) + slice_client,
                                    CS_TX, 
                                    k_divider_line);
        /* Line RX */
        ten_syncdsync_config_1_to_1(module_id_line,
                                    slice_line,
                                    ((module_id_client & 1) * 4) + slice_client,
                                    CS_RX, 
                                    k_divider_line);
        /* Client TX */
        ten_syncdsync_config_1_to_1(module_id_client,
                                    slice_client,
                                    ((module_id_line & 1) * 4) + slice_line,
                                    CS_TX, 
                                    k_divider_client);
        /* Bugzilla 24628 Start */
        /* Calculate hysteresis for deterministic justification clients */
        ten_calc_hyst(dev_id);
        /* Bugzilla 24628 End */
      }
      break;
    
    case TEN_10G_TRANSPONDER:
    /* Bugzilla 24645 Start */  
    case TEN_10G_WIRE:
    /* Bugzilla 24645 End */  
      num_just_odu2   = pdevcb->syncdsync_cb.num_just_oxu2;
      num_pjo_odu2    = pdevcb->syncdsync_cb.num_pjo_oxu2;

      if(sync_mode) {
        if(pdevcb->syncdsync_cb.line_client_same) {
          /* Line type and client type are identical */
          if(pdevcb->syncdsync_cb.line_client_rate_equal) {
            /* Line rate = Client rate */
            /* Client RX */
            ten_syncdsync_config_1_to_1(module_id_client,
                                        slice_client,
                                        ((module_id_line & 1) * 4) + slice_line,
                                        CS_RX, 
                                        k_divider_client);
            /* Line TX */
            ten_syncdsync_config_1_to_1(module_id_line,
                                        slice_line,
                                        ((module_id_client & 1) * 4) + slice_client,
                                        CS_TX, 
                                        k_divider_line);
            /* Line RX */
            ten_syncdsync_config_1_to_1(module_id_line,
                                        slice_line,
                                        ((module_id_client & 1) * 4) + slice_client,
                                        CS_RX, 
                                        k_divider_line);
            /* Client TX */
            ten_syncdsync_config_1_to_1(module_id_client,
                                        slice_client,
                                        ((module_id_line & 1) * 4) + slice_line,
                                        CS_TX, 
                                        k_divider_client);
          }
          /* Line rate != Client rate */
          else {
            /* Client RX */
            n1 = pdevcb->syncdsync_cb.P_client*16*4;
            m1 = pdevcb->syncdsync_cb.P_line*16*4;
            n2 = 1;
            m2 = 1;

            /*num    = m1 * m2; */
            long_multiply(m1, m2);
            num_hi = hi_word;
            num_lo = low_word;

            /* denom  = n1 * n2 * k_divider; */
            long_multiply(n1*k_divider_client, n2);
            denom_hi = hi_word;
            denom_lo = low_word;

            ten_syncdsyncrx_cfg(module_id_client,
                                slice_client,
                                num_hi, num_lo, denom_hi, denom_lo,
                                0,0,0,0,0,0,0);

            /* Line TX */
            ten_syncdsync_config_1_to_1(module_id_line,
                                        slice_line,
                                        ((module_id_client & 1) * 4) + slice_client,
                                        CS_TX, 
                                        k_divider_line);


            /* Line RX */
            n1 = pdevcb->syncdsync_cb.P_line*16*4;
            m1 = pdevcb->syncdsync_cb.P_client*16*4;
            n2 = 1;
            m2 = 1;

            /*num    = m1 * m2; */
            long_multiply(m1, m2);
            num_hi = hi_word;
            num_lo = low_word;

            /* denom  = n1 * n2 * k_divider; */
            long_multiply(n1*k_divider_line, n2);
            denom_hi = hi_word;
            denom_lo = low_word;

            ten_syncdsyncrx_cfg(module_id_line,
                                slice_line,
                                num_hi, num_lo, denom_hi, denom_lo,
                                0,0,0,0,0,0,0);

            /* Client TX */
            ten_syncdsync_config_1_to_1(module_id_client,
                                        slice_client,
                                        ((module_id_line & 1) * 4) + slice_line,
                                        CS_TX, 
                                        k_divider_client);
          }
        } 
        /* Line type and client type are different */
        else {
          /* Client RX */
          n1 = pdevcb->syncdsync_cb.Q_line*16*4*pdevcb->syncdsync_cb.transcode_num;
          m1 = pdevcb->syncdsync_cb.P_line*16*4*pdevcb->syncdsync_cb.transcode_denom;
          n2 = 1;
          m2 = 1;

          /*num    = m1 * m2; */
          long_multiply(m1, m2);
          num_hi = hi_word;
          num_lo = low_word;

          /* denom  = n1 * n2 * k_divider; */
          long_multiply(n1*k_divider_client, n2);
          denom_hi = hi_word;
          denom_lo = low_word;

          ten_syncdsyncrx_cfg(module_id_client,
                              slice_client,
                              num_hi, num_lo, denom_hi, denom_lo,
                              0,0,0,0,0,0,0);

          /* Line TX */
          ten_syncdsync_config_1_to_1(module_id_line,
                                      slice_line,
                                      ((module_id_client & 1) * 4) + slice_client,
                                      CS_TX, 
                                      k_divider_line);

          /* Line RX */
          n1 = pdevcb->syncdsync_cb.P_line*16*4*pdevcb->syncdsync_cb.transcode_denom;
          m1 = pdevcb->syncdsync_cb.Q_line*16*4*pdevcb->syncdsync_cb.transcode_num;
          n2 = 1;
          m2 = 1;

          /*num    = m1 * m2; */
          long_multiply(m1, m2);
          num_hi = hi_word;
          num_lo = low_word;

          /* denom  = n1 * n2 * k_divider; */
          long_multiply(n1*k_divider_line, n2);
          denom_hi = hi_word;
          denom_lo = low_word;

          ten_syncdsyncrx_cfg(module_id_line,
                              slice_line,
                              num_hi, num_lo, denom_hi, denom_lo,
                              0,0,0,0,0,0,0);

          /* Client TX */
          ten_syncdsync_config_1_to_1(module_id_client,
                                      slice_client,
                                      ((module_id_line & 1) * 4) + slice_line,
                                      CS_TX, 
                                      k_divider_client);
        }
      }
      else { /* ASYNC */
        if(pdevcb->syncdsync_cb.line_client_same) {
          num_just_odu2 = 64;  /* Can we read from clock file */

          m1 = 238*16*4 - num_just_odu2; 
          n2 = 1;
          m2 = 1;

          /*num    = m1 * m2; */
          long_multiply(m1, m2);
          num_hi = hi_word;
          num_lo = low_word;

          /* ac1 = n1 * m2; */
          ac1_hi = 0;
          ac1_lo = 0;

          ad1 = 0;
          ad2 = 1;

          cfg    = 0;
          cfgpd0 = 0x01;

          jc_thresh = (cs_uint32)_ten_floor((cs_float)(2.0 * ((cs_float)64)/((2.0 * (cs_float)num_pjo_odu2) + 1.0)));
          max_pjo = num_pjo_odu2;

          /* Client RX */
          n1 = pdevcb->syncdsync_cb.P_client*16*4;

          /* denom  = n1 * n2 * k_divider; */
          long_multiply(n1*64, n2);
          denom_hi = hi_word;
          denom_lo = low_word;

          /* ac2 = n1 * n2; */
          long_multiply(n1, n2);
          ac2_hi = hi_word;
          ac2_lo = low_word;

          ten_syncdsyncrx_cfg(module_id_client,
                              slice_client,
                              num_hi, num_lo, denom_hi, denom_lo,
                              ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                              ad1, ad2,
                              cfg);

          /* Line TX */
          n1 = pdevcb->syncdsync_cb.P_line*16*4;

          /* denom  = n1 * n2 * k_divider; */
          long_multiply(n1*64, n2);
          denom_hi = hi_word;
          denom_lo = low_word;

          /* ac2 = n1 * n2; */
          long_multiply(n1, n2);
          ac2_hi = hi_word;
          ac2_lo = low_word;

          ten_syncdsynctx_cfg(module_id_line,
                              slice_line,
                              ((module_id_client & 1) * 4) + slice_client, 
                              num_hi, num_lo, denom_hi, denom_lo,
                              ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                              ad1, ad2,
                              cfg, cfgpd0,
                              jc_thresh,
                              max_pjo);

          /* Line RX */
          n1 = pdevcb->syncdsync_cb.P_line*16*4;

          /* ac2 = n1 * n2; */
          long_multiply(n1, n2);
          ac2_hi = hi_word;
          ac2_lo = low_word;

          /* denom  = n1 * n2 * k_divider; */
          long_multiply(n1*64, n2);
          denom_hi = hi_word;
          denom_lo = low_word;

          ten_syncdsyncrx_cfg(module_id_line,
                              slice_line,
                              num_hi, num_lo, denom_hi, denom_lo,
                              ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                              ad1, ad2,
                              cfg);

          /* Client TX */
          n1 = pdevcb->syncdsync_cb.P_client*16*4;

          /* denom  = n1 * n2 * k_divider; */
          long_multiply(n1*64, n2);
          denom_hi = hi_word;
          denom_lo = low_word;

          /* ac2 = n1 * n2; */
          long_multiply(n1, n2);
          ac2_hi = hi_word;
          ac2_lo = low_word;

          ten_syncdsynctx_cfg(module_id_client,
                              slice_client,
                              ((module_id_line & 1) * 4) + slice_line, 
                              num_hi, num_lo, denom_hi, denom_lo,
                              ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                              ad1, ad2,
                              cfg, cfgpd0,
                              jc_thresh,
                              max_pjo);
        }
        else {
          /* Client RX */
          ten_syncdsync_config_1_to_1(module_id_client,
                                      slice_client,
                                      ((module_id_line & 1) * 4) + slice_line,
                                      CS_RX, 
                                      k_divider_client);

          /* Bugzilla 24797 Start */
          /* n1 = pdevcb->syncdsync_cb.P_line*16*4*pdevcb->syncdsync_cb.transcode_denom; */
          /* m1 = (238*16*4 - num_just_odu2)*pdevcb->syncdsync_cb.transcode_num;; */
          n1 = pdevcb->syncdsync_cb.P_line*16*4;
          m1 = (238*16*4 - num_just_odu2);
          n2 = 1;
          m2 = 1;

          /*num    = m1 * m2 * trans_num; */
          /* long_multiply(m1, m2); */
          long_multiply(m1, m2*pdevcb->syncdsync_cb.transcode_num);
          num_hi = hi_word;
          num_lo = low_word;

          /* denom  = n1 * n2 * k_divider * trans_denom; */
          /* long_multiply(n1*k_divider, n2); */
          long_multiply(n1*k_divider_line, n2*pdevcb->syncdsync_cb.transcode_denom);
          denom_hi = hi_word;
          denom_lo = low_word;

          /* ac1 = n1 * m2; */
          ac1_hi = 0;
          ac1_lo = 0;

          /* ac2 = n1 * n2 * trans_num; */
          /* long_multiply(n1, n2); */
          long_multiply(n1, n2*pdevcb->syncdsync_cb.transcode_num);
          ac2_hi = hi_word;
          ac2_lo = low_word;

          ad1 = 0;
          /* ad2 = num_pjo_odu2 * trans_num; */
          ad2 = num_pjo_odu2*pdevcb->syncdsync_cb.transcode_num;
          /* Bugzilla 24797 End */

          cfg    = 0;
          cfgpd0 = 0x01;

          jc_thresh = (cs_uint32)_ten_floor((cs_float)(2.0 * ((cs_float)k_divider_line)/((2.0 * (cs_float)num_pjo_odu2) + 1.0)));
          max_pjo = num_pjo_odu2;

          /* Line TX */
          ten_syncdsynctx_cfg(module_id_line,
                              slice_line,
                              ((module_id_client & 1) * 4) + slice_client, 
                              num_hi, num_lo, denom_hi, denom_lo,
                              ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                              ad1, ad2,
                              cfg, cfgpd0,
                              jc_thresh,
                              max_pjo);

          /* Line RX */
          ten_syncdsyncrx_cfg(module_id_line,
                              slice_line,
                              num_hi, num_lo, denom_hi, denom_lo,
                              ac1_hi, ac1_lo, ac2_hi, ac2_lo,
                              ad1, ad2,
                              cfg);

          /* Client TX */
          ten_syncdsync_config_1_to_1(module_id_client,
                                      slice_client,
                                      ((module_id_line & 1) * 4) + slice_line,
                                      CS_TX, 
                                      k_divider_client);
        }
      }
      break;
    
    /* Bugzilla 22514 Start */
    case TEN_10G_LOOPBACK:
    case TEN_40G_LOOPBACK:
    case TEN_10G_KPGA:
    case TEN_40G_KPGA:
    case TEN_10G_PBERT:
      /* Line TX */
      ten_syncdsync_config_1_to_1(module_id_line,
                                  slice_line,
                                  ((module_id_line & 1) * 4) + slice_line,
                                  CS_TX, 
                                  k_divider_line);
      /* Line RX */
      ten_syncdsync_config_1_to_1(module_id_line,
                                  slice_line,
                                  ((module_id_line & 1) * 4) + slice_line,
                                  CS_RX, 
                                  k_divider_line);
      break;
    /* Bugzilla 22514 End */
  
  }
RTN_EXIT:
  return (rtn);
}
/* Bugzilla 26608 End */

/********************************************************************/
/* $rtn_hdr_start  SYNCDSYNC DATAPATH CONFIG                        */
/* CATEGORY   : API                                                 */
/* ACCESS     : Public                                              */
/* BLOCK      : HIGH LEVEL                                          */
/* CHIP       : Tenabo                                              */
cs_status ten_hl_syncdsync_threadsafe_datapath_config(cs_uint16 module_id_line,
                                                      cs_uint8 slice_line, 
                                                      cs_uint16 module_id_client,
                                                      cs_uint8 slice_client,
                                                      cs_uint8 mode,
                                                      cs_uint8 sync_mode,
                                                      cs_uint16 method,
                                                      cs_uint8 k_divider,
                                                      cs_uint8 line_fec,
                                                      cs_uint8 client_fec)
/* INPUTS     : o Line Module Id                                    */
/*              o Line Slice                                        */
/*              o Client Module Id                                  */
/*              o Client Slice                                      */
/*              o Mode                                              */
/*              o Sync mode                                         */
/*              o Muxponder Method                                  */
/*              o k divider                                         */
/*              o Line FEC                                          */
/*              o Client FEC                                        */
/* OUTPUTS    : ----                                                */
/* RETURNS    : CS_OK or CS_ERROR                                   */
/* DESCRIPTION:                                                     */
/* Configures line and client syncdsync blocks based on mode and    */
/* sync_mode                                                        */
/*                                                                  */
/*   [slice_line]  Specified as TEN_SLICE0 (0), TEN_SLICE1 (1),     */
/*     TEN_SLICE2 (2), TEN_SLICE3 (3) or TEN_SLICE_ALL (0xFF)       */
/*                                                                  */
/*   [slice_client]  Specified as TEN_SLICE0 (0), TEN_SLICE1 (1),   */
/*     TEN_SLICE2 (2), TEN_SLICE3 (3) or TEN_SLICE_ALL (0xFF)       */
/*                                                                  */
/*   [mode] specifies one of the three modes                        */
/*     TEN_40G_TRANSPONDER  = 0 (40G to 40G)                        */
/*     TEN_40G_MUXPONDER    = 1 (10G to 40G)                        */
/*     TEN_10G_TRANSPONDER  = 2 (10G to 10G)                        */
/*     TEN_10G_LOOPBACK     = 3                                     */
/*     TEN_40G_LOOPBACK     = 4                                     */
/*     TEN_10G_KPGA         = 5                                     */
/*     TEN_40G_KPGA         = 6                                     */
/*     TEN_10G_PBERT        = 7                                     */
/*                                                                  */
/*   [sync_mode] specifies synchronous or asynchronous mapping      */
/*     0 = Asynchronous                                             */
/*     1 = Synchronous                                              */
/*                                                                  */
/*   [method] specifies how syncdysnc blocks can be configured for  */
/*            40G applications                                      */
/*     TEN_1TO1_ASYNC_2LEVEL = 0                                    */
/*       Client -  1:1                                              */
/*       Line   -  Async 2 level mapping                            */
/*     TEN_SYNC_ASYNC_1LEVEL = 1                                    */
/*       Client -  Sync  1 level mapping                            */
/*       Line   -  Async 1 level mapping                            */
/*     TEN_1TO1_ASYNC_1LEVEL = 2                                    */
/*       Client -  1:1                                              */
/*       Line   -  Async 1 level mapping                            */
/*     TEN_BOTH_1TO1         = 3                                    */
/*       Client -  1:1                                              */
/*       Line   -  1:1                                              */
/*                                                                  */
/*   [k_divider] specifies the value of constant 'k'                */
/*     Async : 16 - 64                                              */
/*     Sync  : 16 - 255                                             */
/*                                                                  */
/*   [line_fec] specifies the line FEC type                         */
/*     TEN_FEC_MODE_NOFEC = 15, or                                  */
/*     Any other FEC% as per ten_fec_ovhd_t = 0 -14                 */
/*                                                                  */
/*   [client_fec] specifies the client FEC type                     */
/*     TEN_FEC_MODE_NOFEC = 15, or                                  */
/*     Any other FEC% as per ten_fec_ovhd_t = 0 -14                 */
/*                                                                  */
/* $rtn_hdr_end                                                     */
/********************************************************************/
{
  cs_status rtn = CS_OK;
  cs_uint16 dev_id;
  ten_dev_cb_t *pdevcb;
  cs_char8 *func = "ten_hl_syncdsync_threadsafe_datapath_config";  

  dev_id = TEN_MOD_ID_TO_DEV_ID(module_id_line);
  pdevcb = TEN_DEV_ID_TO_DEVCB_PTR(dev_id);

  CS_PRINT("%s()\n", func);
  CS_PRINT("    line = %s\n",  ten_module_strings[module_id_line&1]);
  CS_PRINT("    slice_line = %d\n",  slice_line);
  CS_PRINT("    client = %s\n",  ten_module_strings[module_id_client&1]);
  CS_PRINT("    slice_client = %d\n",  slice_client);
  CS_PRINT("    %s\n", ten_traffic_mode_strings[mode]);
  CS_PRINT("    sync_mode = %d\n",  sync_mode);
  CS_PRINT("    %s\n", ten_method_strings[method]);
  CS_PRINT("    k_divider=%d\n", k_divider);
  CS_PRINT("    line fec=%s\n", ten_fec_ovhd_strings[line_fec]);
  CS_PRINT("    client fec=%s\n", ten_fec_ovhd_strings[client_fec]);

  /* Set line and client module semaphore */
  TEN_DEV_LOCK(dev_id, TEN_ID_SYNCDSYNC_CB);

  /* Transfer syncdsync parameters from syncdsync_thread_cb[port] to 
     syncdsync_cb control block */
  CS_MEMCPY(&pdevcb->syncdsync_cb, &pdevcb->syncdsync_thread_cb[slice_client],  
            sizeof(pdevcb->syncdsync_cb));

  /* Call high level syncdsync configuration */
  rtn = ten_hl_syncdsync_datapath_config(module_id_line, slice_line, module_id_client, slice_client,
                                         mode, sync_mode, method, k_divider,
                                         line_fec, client_fec);

  /* Clear line and client module semaphore */
  TEN_DEV_UNLOCK(dev_id, TEN_ID_SYNCDSYNC_CB);

  return (rtn);
}

/* Bugzilla 26608 Start */
/********************************************************************/
/* $rtn_hdr_start  SYNCDSYNC DATAPATH CONFIG                        */
/* CATEGORY   : API                                                 */
/* ACCESS     : Public                                              */
/* BLOCK      : HIGH LEVEL                                          */
/* CHIP       : Tenabo                                              */
cs_status ten_hl_syncdsync_threadsafe_datapath_config_v2(cs_uint16 module_id_line,
                                                         cs_uint8 slice_line, 
                                                         cs_uint16 module_id_client,
                                                         cs_uint8 slice_client,
                                                         cs_uint8 mode,
                                                         cs_uint8 sync_mode,
                                                         cs_uint16 method,
                                                         cs_uint8 k_divider_line,
                                                         cs_uint8 k_divider_client,
                                                         cs_uint8 line_fec,
                                                         cs_uint8 client_fec)
/* INPUTS     : o Line Module Id                                    */
/*              o Line Slice                                        */
/*              o Client Module Id                                  */
/*              o Client Slice                                      */
/*              o Mode                                              */
/*              o Sync mode                                         */
/*              o Muxponder Method                                  */
/*              o k divider line                                    */
/*              o k divider client                                  */
/*              o Line FEC                                          */
/*              o Client FEC                                        */
/* OUTPUTS    : ----                                                */
/* RETURNS    : CS_OK or CS_ERROR                                   */
/* DESCRIPTION:                                                     */
/* Configures line and client syncdsync blocks based on mode and    */
/* sync_mode                                                        */
/*                                                                  */
/*   [slice_line]  Specified as TEN_SLICE0 (0), TEN_SLICE1 (1),     */
/*     TEN_SLICE2 (2), TEN_SLICE3 (3) or TEN_SLICE_ALL (0xFF)       */
/*                                                                  */
/*   [slice_client]  Specified as TEN_SLICE0 (0), TEN_SLICE1 (1),   */
/*     TEN_SLICE2 (2), TEN_SLICE3 (3) or TEN_SLICE_ALL (0xFF)       */
/*                                                                  */
/*   [mode] specifies one of the three modes                        */
/*     TEN_40G_TRANSPONDER  = 0 (40G to 40G)                        */
/*     TEN_40G_MUXPONDER    = 1 (10G to 40G)                        */
/*     TEN_10G_TRANSPONDER  = 2 (10G to 10G)                        */
/*     TEN_10G_LOOPBACK     = 3                                     */
/*     TEN_40G_LOOPBACK     = 4                                     */
/*     TEN_10G_KPGA         = 5                                     */
/*     TEN_40G_KPGA         = 6                                     */
/*     TEN_10G_PBERT        = 7                                     */
/*                                                                  */
/*   [sync_mode] specifies synchronous or asynchronous mapping      */
/*     0 = Asynchronous                                             */
/*     1 = Synchronous                                              */
/*                                                                  */
/*   [method] specifies how syncdysnc blocks can be configured for  */
/*            40G applications                                      */
/*     TEN_1TO1_ASYNC_2LEVEL = 0                                    */
/*       Client -  1:1                                              */
/*       Line   -  Async 2 level mapping                            */
/*     TEN_SYNC_ASYNC_1LEVEL = 1                                    */
/*       Client -  Sync  1 level mapping                            */
/*       Line   -  Async 1 level mapping                            */
/*     TEN_1TO1_ASYNC_1LEVEL = 2                                    */
/*       Client -  1:1                                              */
/*       Line   -  Async 1 level mapping                            */
/*     TEN_BOTH_1TO1         = 3                                    */
/*       Client -  1:1                                              */
/*       Line   -  1:1                                              */
/*                                                                  */
/*   [k_divider_*] specifies the value of constant 'k'              */
/*     Async : 16 - 64                                              */
/*     Sync  : 16 - 255                                             */
/*                                                                  */
/*   [line_fec] specifies the line FEC type                         */
/*     TEN_FEC_MODE_NOFEC = 15, or                                  */
/*     Any other FEC% as per ten_fec_ovhd_t = 0 -14                 */
/*                                                                  */
/*   [client_fec] specifies the client FEC type                     */
/*     TEN_FEC_MODE_NOFEC = 15, or                                  */
/*     Any other FEC% as per ten_fec_ovhd_t = 0 -14                 */
/*                                                                  */
/* $rtn_hdr_end                                                     */
/********************************************************************/
{
  cs_status rtn = CS_OK;
  cs_uint16 dev_id;
  ten_dev_cb_t *pdevcb;
  cs_char8 *func = "ten_hl_syncdsync_threadsafe_datapath_config";  

  dev_id = TEN_MOD_ID_TO_DEV_ID(module_id_line);
  pdevcb = TEN_DEV_ID_TO_DEVCB_PTR(dev_id);

  CS_PRINT("%s()\n", func);
  CS_PRINT("    line = %s\n",  ten_module_strings[module_id_line&1]);
  CS_PRINT("    slice_line = %d\n",  slice_line);
  CS_PRINT("    client = %s\n",  ten_module_strings[module_id_client&1]);
  CS_PRINT("    slice_client = %d\n",  slice_client);
  CS_PRINT("    %s\n", ten_traffic_mode_strings[mode]);
  CS_PRINT("    sync_mode = %d\n",  sync_mode);
  CS_PRINT("    %s\n", ten_method_strings[method]);
  CS_PRINT("    k_divider_line=%d\n", k_divider_line);
  CS_PRINT("    k_divider_client=%d\n", k_divider_client);
  CS_PRINT("    line fec=%s\n", ten_fec_ovhd_strings[line_fec]);
  CS_PRINT("    client fec=%s\n", ten_fec_ovhd_strings[client_fec]);

  /* Set line and client module semaphore */
  TEN_DEV_LOCK(dev_id, TEN_ID_SYNCDSYNC_CB);

  /* Transfer syncdsync parameters from syncdsync_thread_cb[port] to 
     syncdsync_cb control block */
  CS_MEMCPY(&pdevcb->syncdsync_cb, &pdevcb->syncdsync_thread_cb[slice_client],  
            sizeof(pdevcb->syncdsync_cb));

  /* Call high level syncdsync configuration */
  rtn = ten_hl_syncdsync_datapath_config_v2(module_id_line, slice_line, module_id_client, slice_client,
                                         mode, sync_mode, method, k_divider_line, k_divider_client,
                                         line_fec, client_fec);

  /* Clear line and client module semaphore */
  TEN_DEV_UNLOCK(dev_id, TEN_ID_SYNCDSYNC_CB);

  return (rtn);
}
/* Bugzilla 26608 End */

/********************************************************************/
/* $rtn_hdr_start  SYNCDSYNC SET CONTROL BLOCK TRANSCODE PARAMETERS */
/* CATEGORY   : API                                                 */
/* ACCESS     : Public                                              */
/* BLOCK      : HIGH LEVEL                                          */
/* CHIP       : Tenabo                                              */
cs_status ten_syncdsync_set_cb_transcode(cs_uint16 dev_id,
                                         cs_uint16 num,
                                         cs_uint16 denom)
/* INPUTS     : o Device Id                                         */
/*              o Transcode Numerator                               */
/*              o Transcode Denominator                             */
/* OUTPUTS    : ----                                                */
/* RETURNS    : CS_OK or CS_ERROR                                   */
/* DESCRIPTION:                                                     */
/* Writes the transcode ratio to syncdsync control block.           */
/* The ten_hl_syncdsync_datapath_config API reads this value from   */
/* the syncdsync control block                                      */
/* Used only for transcoding applications, otherwise num and denom  */
/* must be set to 1                                                 */
/*                                                                  */
/* $rtn_hdr_end                                                     */
/********************************************************************/
{
  ten_dev_cb_t *pdevcb;

  pdevcb = TEN_DEV_ID_TO_DEVCB_PTR(dev_id);

  pdevcb->syncdsync_cb.transcode_num = num;
  pdevcb->syncdsync_cb.transcode_denom = denom;

  return CS_OK;
}

/********************************************************************/
/* $rtn_hdr_start  SYNCDSYNC SET CONTROL BLOCK 40G TRANS PARAMETERS */
/* CATEGORY   : API                                                 */
/* ACCESS     : Public                                              */
/* BLOCK      : HIGH LEVEL                                          */
/* CHIP       : Tenabo                                              */
cs_status ten_syncdsync_set_cb_40g_transponder(cs_uint16 dev_id,
                                               cs_int16 num_just_oxu3,
                                               cs_uint8 num_pjo_oxu3,
                                               cs_uint16 P_line,
                                               cs_uint16 Q_line,
                                               cs_uint16 P_client,
                                               cs_uint16 Q_client,
                                               cs_uint8 line_client_same,
                                               cs_uint8 line_client_rate_equal)
/* INPUTS     : o Device Id                                         */
/*              o 0xU3 Justification Bytes (C15 / FS)               */
/*              o 0xU3 PJO                                          */
/*              o Line Numerator (P)                                */
/*              o Line Denominator (Q)                              */
/*              o Client Numenrator (P)                             */
/*              o Client Denominator (Q)                            */
/*              o Line Client Identical Indicator                   */ 
/*              o Line Client Rate Relation Indicator               */
/* OUTPUTS    : ----                                                */
/* RETURNS    : CS_OK or CS_ERROR                                   */
/* DESCRIPTION:                                                     */
/* Writes the syncdsync parameters for 40G transponder applications */
/* to the syncdsync control block                                   */
/*                                                                  */
/*   [num_just_oxu3] specifies the number of justification bytes -  */
/*                   C15 of FS                                      */
/*                                                                  */
/*   [num_pjo_oxu3] specifies the number of positive justification  */
/*                  bytes                                           */
/*     0 - 6                                                        */
/*                                                                  */
/*   [P_line] specifies the number of columns in the OTN frame on   */
/*            the line side                                         */
/*     239 - 231                                                    */
/*                                                                  */
/*   [Q_line] specifies the number of columns in the payload on the */
/*            line side                                             */
/*     237 - 238                                                    */
/*                                                                  */
/*   [P_client] specifies the number of columns in the OTN frame on */
/*              the client side                                     */
/*     239 - 231                                                    */
/*                                                                  */
/*   [Q_client] specifies the number of columns in the payload on   */
/*              the client side                                     */
/*     237 - 238                                                    */
/*                                                                  */
/*   [line_client_same] is used for 10G/40G transponder applications*/
/*   to indicate line and client type are identical - for syncdsync */
/*   to be programmed 1:1                                           */
/*     0 - line and client type are different                       */
/*     1 - line and client type are identical                       */
/*                                                                  */
/*   [line_client_rate_equal] is used in conjunction with           */
/*   line_client_same parameter to indicate presence of FECs on     */
/*   and clinet side if line and cline ttype are identical          */
/*     0 - line and client data rates are different                 */
/*     1 - line and client data rates are identical                 */
/*                                                                  */
/* NOTE: Not all the parameters passed in this API are needed for   */
/*       every configuration.  Parameters that are not need can be  */
/*       passed in as any value, e.g. 0xFFFF                        */
/*                                                                  */
/* $rtn_hdr_end                                                     */
/********************************************************************/
{
  ten_dev_cb_t *pdevcb;

  pdevcb = TEN_DEV_ID_TO_DEVCB_PTR(dev_id);

  pdevcb->syncdsync_cb.num_just_oxu3 = num_just_oxu3;
  pdevcb->syncdsync_cb.num_pjo_oxu3  = num_pjo_oxu3;
  pdevcb->syncdsync_cb.P_line   = P_line;
  pdevcb->syncdsync_cb.Q_line   = Q_line;
  pdevcb->syncdsync_cb.P_client = P_client;
  pdevcb->syncdsync_cb.Q_client = Q_client;
  pdevcb->syncdsync_cb.line_client_same = line_client_same;
  pdevcb->syncdsync_cb.line_client_rate_equal = line_client_rate_equal;

  return CS_OK;
}

/********************************************************************/
/* $rtn_hdr_start  SYNCDSYNC SET CONTROL BLOCK 10G TRANS PARAMETERS */
/* CATEGORY   : API                                                 */
/* ACCESS     : Public                                              */
/* BLOCK      : HIGH LEVEL                                          */
/* CHIP       : Tenabo                                              */
cs_status ten_syncdsync_set_cb_10g_transponder(cs_uint16 dev_id,
                                               cs_int16 num_just_oxu2,
                                               cs_uint8 num_pjo_oxu2,
                                               cs_uint16 P_line,
                                               cs_uint16 Q_line,
                                               cs_uint16 P_client,
                                               cs_uint16 Q_client,
                                               cs_uint8 line_client_same,
                                               cs_uint8 line_client_rate_equal)
/* INPUTS     : o Device Id                                         */
/*              o 0xU2 Justification Bytes (C15 / FS)               */
/*              o 0xU2 PJO                                          */
/*              o Line Numerator (P)                                */
/*              o Line Denominator (Q)                              */
/*              o Client Numenrator (P)                             */
/*              o Client Denominator (Q)                            */
/*              o Line Client Identical Indicator                   */ 
/*              o Line Client Rate Relation Indicator               */
/* OUTPUTS    : ----                                                */
/* RETURNS    : CS_OK or CS_ERROR                                   */
/* DESCRIPTION:                                                     */
/* Writes the syncdsync parameters for 10G transponder applications */
/* to the syncdsync control block                                   */
/*                                                                  */
/*   [num_just_oxu2] specifies the number of justification bytes -  */
/*                   C15 of FS                                      */
/*                                                                  */
/*   [num_pjo_oxu2] specifies the number of positive justification  */
/*                  bytes                                           */
/*     0 - 6                                                        */
/*                                                                  */
/*   [P_line] specifies the number of columns in the OTN frame on   */
/*            the line side                                         */
/*     239 - 231                                                    */
/*                                                                  */
/*   [Q_line] specifies the number of columns in the payload on the */
/*            line side                                             */
/*     237 - 238                                                    */
/*                                                                  */
/*   [P_client] specifies the number of columns in the OTN frame on */
/*              the client side                                     */
/*     239 - 231                                                    */
/*                                                                  */
/*   [Q_client] specifies the number of columns in the payload on   */
/*              the client side                                     */
/*     237 - 238                                                    */
/*                                                                  */
/*   [line_client_same] is used for 10G/40G transponder applications*/
/*   to indicate line and client type are identical - for syncdsync */
/*   to be programmed 1:1                                           */
/*     0 - line and client type are different                       */
/*     1 - line and client type are identical                       */
/*                                                                  */
/*   [line_client_rate_equal] is used in conjunction with           */
/*   line_client_same parameter to indicate presence of FECs on     */
/*   and clinet side if line and cline ttype are identical          */
/*     0 - line and client data rates are different                 */
/*     1 - line and client data rates are identical                 */
/*                                                                  */
/* NOTE: Not all the parameters passed in this API are needed for   */
/*       every configuration.  Parameters that are not need can be  */
/*       passed in as any value, e.g. 0xFFFF                        */
/*                                                                  */
/* $rtn_hdr_end                                                     */
/********************************************************************/
{
  ten_dev_cb_t *pdevcb;

  pdevcb = TEN_DEV_ID_TO_DEVCB_PTR(dev_id);

  pdevcb->syncdsync_cb.num_just_oxu2 = num_just_oxu2;
  pdevcb->syncdsync_cb.num_pjo_oxu2  = num_pjo_oxu2;
  pdevcb->syncdsync_cb.P_line   = P_line;
  pdevcb->syncdsync_cb.Q_line   = Q_line;
  pdevcb->syncdsync_cb.P_client = P_client;
  pdevcb->syncdsync_cb.Q_client = Q_client;
  pdevcb->syncdsync_cb.line_client_same = line_client_same;
  pdevcb->syncdsync_cb.line_client_rate_equal = line_client_rate_equal;

  return CS_OK;
}

/********************************************************************/
/* $rtn_hdr_start  SYNCDSYNC SET CONTROL BLOCK 40G MUX PARAMETERS   */
/* CATEGORY   : API                                                 */
/* ACCESS     : Public                                              */
/* BLOCK      : HIGH LEVEL                                          */
/* CHIP       : Tenabo                                              */
cs_status ten_syncdsync_set_cb_40g_muxponder(cs_uint16 dev_id,
                                             cs_int16 num_just_oxu2,
                                             cs_uint8 num_pjo_oxu2,
                                             cs_int16 num_just_oxu3,
                                             cs_uint8 num_pjo_oxu3,
                                             cs_uint16 P_line,
                                             cs_uint16 Q_line,
                                             cs_uint16 P_client,
                                             cs_uint16 Q_client)
/* INPUTS     : o Device Id                                         */
/*              o 0xU2 Justification Bytes (C15 / FS)               */
/*              o 0xU2 PJO                                          */
/*              o 0xU3 Justification Bytes (C15 / FS)               */
/*              o 0xU3 PJO                                          */ 
/*              o Line Numerator (P)                                */
/*              o Line Denominator (Q)                              */
/*              o Client Numenrator (P)                             */
/*              o Client Denominator (Q)                            */
/* OUTPUTS    : ----                                                */
/* RETURNS    : CS_OK or CS_ERROR                                   */
/* DESCRIPTION:                                                     */
/* Writes the syncdsync parameters for 40G muxponder applications   */
/* to the syncdsync control block                                   */
/*                                                                  */
/*   [num_just_oxu2] specifies the number of justification bytes -  */
/*                   C15 of FS (client -> OxU2)                     */
/*                                                                  */
/*   [num_pjo_oxu2] specifies the number of positive justification  */
/*                  bytes (client -> OxU2)                          */
/*     0 - 6                                                        */
/*                                                                  */
/*   [num_just_oxu3] specifies the number of justification bytes -  */
/*                   C15 of FS (OxU2 -> OxU3)                       */
/*                                                                  */
/*   [num_pjo_oxu3] specifies the number of positive justification  */
/*                  bytes (OxU2 -> OxU3)                            */
/*     0 - 6                                                        */
/*                                                                  */
/*   [P_line] specifies the number of columns in the OTN frame on   */
/*            the line side                                         */
/*     239 - 231                                                    */
/*                                                                  */
/*   [Q_line] specifies the number of columns in the payload on the */
/*            line side                                             */
/*     237 - 238                                                    */
/*                                                                  */
/*   [P_client] specifies the number of columns in the OTN frame on */
/*              the client side                                     */
/*     239 - 231                                                    */
/*                                                                  */
/*   [Q_client] specifies the number of columns in the payload on   */
/*              the client side                                     */
/*     237 - 238                                                    */
/*                                                                  */
/* NOTE: Not all the parameters passed in this API are needed for   */
/*       every configuration.  Parameters that are not need can be  */
/*       passed in as any value, e.g. 0xFFFF                        */
/*                                                                  */
/* $rtn_hdr_end                                                     */
/********************************************************************/
{
  ten_dev_cb_t *pdevcb;

  pdevcb = TEN_DEV_ID_TO_DEVCB_PTR(dev_id);

  pdevcb->syncdsync_cb.num_just_oxu2 = num_just_oxu2;
  pdevcb->syncdsync_cb.num_pjo_oxu2  = num_pjo_oxu2;
  pdevcb->syncdsync_cb.num_just_oxu3 = num_just_oxu3;
  pdevcb->syncdsync_cb.num_pjo_oxu3  = num_pjo_oxu3;
  pdevcb->syncdsync_cb.P_line   = P_line;
  pdevcb->syncdsync_cb.Q_line   = Q_line;
  pdevcb->syncdsync_cb.P_client = P_client;
  pdevcb->syncdsync_cb.Q_client = Q_client;

  return CS_OK;
}

/********************************************************************/
/* $rtn_hdr_start  SYNCDSYNC SET CONTROL BLOCK TRANSCODE PARAMETERS */
/* CATEGORY   : API                                                 */
/* ACCESS     : Public                                              */
/* BLOCK      : HIGH LEVEL                                          */
/* CHIP       : Tenabo                                              */
cs_status ten_syncdsync_thread_set_cb_transcode(cs_uint16 dev_id,
                                                cs_uint8 slice_client,
                                                cs_uint16 num,
                                                cs_uint16 denom)
/* INPUTS     : o Device Id                                         */
/*              o Client Slice                                      */
/*              o Transcode Numerator                               */
/*              o Transcode Denominator                             */
/* OUTPUTS    : ----                                                */
/* RETURNS    : CS_OK or CS_ERROR                                   */
/* DESCRIPTION:                                                     */
/* Writes the transcode ratio to syncdsync control block.           */
/* The ten_hl_syncdsync_datapath_config API reads this value from   */
/* the syncdsync control block                                      */
/* Used only for transcoding applications, otherwise num and denom  */
/* must be set to 1                                                 */
/*                                                                  */
/* $rtn_hdr_end                                                     */
/********************************************************************/
{
  ten_dev_cb_t *pdevcb;

  pdevcb = TEN_DEV_ID_TO_DEVCB_PTR(dev_id);

  pdevcb->syncdsync_thread_cb[slice_client].transcode_num = num;
  pdevcb->syncdsync_thread_cb[slice_client].transcode_denom = denom;

  return CS_OK;
}

/********************************************************************/
/* $rtn_hdr_start  SYNCDSYNC SET CONTROL BLOCK 40G TRANS PARAMETERS */
/* CATEGORY   : API                                                 */
/* ACCESS     : Public                                              */
/* BLOCK      : HIGH LEVEL                                          */
/* CHIP       : Tenabo                                              */
cs_status ten_syncdsync_thread_set_cb_40g_transponder(cs_uint16 dev_id,
                                                      cs_uint8 slice_client,
                                                      cs_int16 num_just_oxu3,
                                                      cs_uint8 num_pjo_oxu3,
                                                      cs_uint16 P_line,
                                                      cs_uint16 Q_line,
                                                      cs_uint16 P_client,
                                                      cs_uint16 Q_client,
                                                      cs_uint8 line_client_same,
                                                      cs_uint8 line_client_rate_equal)
/* INPUTS     : o Device Id                                         */
/*              o Client Slice                                      */
/*              o 0xU3 Justification Bytes (C15 / FS)               */
/*              o 0xU3 PJO                                          */
/*              o Line Numerator (P)                                */
/*              o Line Denominator (Q)                              */
/*              o Client Numenrator (P)                             */
/*              o Client Denominator (Q)                            */
/*              o Line Client Identical Indicator                   */ 
/*              o Line Client Rate Relation Indicator               */
/* OUTPUTS    : ----                                                */
/* RETURNS    : CS_OK or CS_ERROR                                   */
/* DESCRIPTION:                                                     */
/* Writes the syncdsync parameters for 40G transponder applications */
/* to the syncdsync control block                                   */
/*                                                                  */
/*   [num_just_oxu3] specifies the number of justification bytes -  */
/*                   C15 of FS                                      */
/*                                                                  */
/*   [num_pjo_oxu3] specifies the number of positive justification  */
/*                  bytes                                           */
/*     0 - 6                                                        */
/*                                                                  */
/*   [P_line] specifies the number of columns in the OTN frame on   */
/*            the line side                                         */
/*     239 - 231                                                    */
/*                                                                  */
/*   [Q_line] specifies the number of columns in the payload on the */
/*            line side                                             */
/*     237 - 238                                                    */
/*                                                                  */
/*   [P_client] specifies the number of columns in the OTN frame on */
/*              the client side                                     */
/*     239 - 231                                                    */
/*                                                                  */
/*   [Q_client] specifies the number of columns in the payload on   */
/*              the client side                                     */
/*     237 - 238                                                    */
/*                                                                  */
/*   [line_client_same] is used for 10G/40G transponder applications*/
/*   to indicate line and client type are identical - for syncdsync */
/*   to be programmed 1:1                                           */
/*     0 - line and client type are different                       */
/*     1 - line and client type are identical                       */
/*                                                                  */
/*   [line_client_rate_equal] is used in conjunction with           */
/*   line_client_same parameter to indicate presence of FECs on     */
/*   and clinet side if line and cline ttype are identical          */
/*     0 - line and client data rates are different                 */
/*     1 - line and client data rates are identical                 */
/*                                                                  */
/* NOTE: Not all the parameters passed in this API are needed for   */
/*       every configuration.  Parameters that are not need can be  */
/*       passed in as any value, e.g. 0xFFFF                        */
/*                                                                  */
/* $rtn_hdr_end                                                     */
/********************************************************************/
{
  ten_dev_cb_t *pdevcb;

  pdevcb = TEN_DEV_ID_TO_DEVCB_PTR(dev_id);

  pdevcb->syncdsync_thread_cb[slice_client].num_just_oxu3 = num_just_oxu3;
  pdevcb->syncdsync_thread_cb[slice_client].num_pjo_oxu3  = num_pjo_oxu3;
  pdevcb->syncdsync_thread_cb[slice_client].P_line   = P_line;
  pdevcb->syncdsync_thread_cb[slice_client].Q_line   = Q_line;
  pdevcb->syncdsync_thread_cb[slice_client].P_client = P_client;
  pdevcb->syncdsync_thread_cb[slice_client].Q_client = Q_client;
  pdevcb->syncdsync_thread_cb[slice_client].line_client_same = line_client_same;
  pdevcb->syncdsync_thread_cb[slice_client].line_client_rate_equal = line_client_rate_equal;

  return CS_OK;
}

/********************************************************************/
/* $rtn_hdr_start  SYNCDSYNC SET CONTROL BLOCK 10G TRANS PARAMETERS */
/* CATEGORY   : API                                                 */
/* ACCESS     : Public                                              */
/* BLOCK      : HIGH LEVEL                                          */
/* CHIP       : Tenabo                                              */
cs_status ten_syncdsync_thread_set_cb_10g_transponder(cs_uint16 dev_id,
                                                      cs_uint8 slice_client,
                                                      cs_int16 num_just_oxu2,
                                                      cs_uint8 num_pjo_oxu2,
                                                      cs_uint16 P_line,
                                                      cs_uint16 Q_line,
                                                      cs_uint16 P_client,
                                                      cs_uint16 Q_client,
                                                      cs_uint8 line_client_same,
                                                      cs_uint8 line_client_rate_equal)
/* INPUTS     : o Device Id                                         */
/*              o Client Slice                                      */
/*              o 0xU2 Justification Bytes (C15 / FS)               */
/*              o 0xU2 PJO                                          */
/*              o Line Numerator (P)                                */
/*              o Line Denominator (Q)                              */
/*              o Client Numenrator (P)                             */
/*              o Client Denominator (Q)                            */
/*              o Line Client Identical Indicator                   */ 
/*              o Line Client Rate Relation Indicator               */
/* OUTPUTS    : ----                                                */
/* RETURNS    : CS_OK or CS_ERROR                                   */
/* DESCRIPTION:                                                     */
/* Writes the syncdsync parameters for 10G transponder applications */
/* to the syncdsync control block                                   */
/*                                                                  */
/*   [num_just_oxu2] specifies the number of justification bytes -  */
/*                   C15 of FS                                      */
/*                                                                  */
/*   [num_pjo_oxu2] specifies the number of positive justification  */
/*                  bytes                                           */
/*     0 - 6                                                        */
/*                                                                  */
/*   [P_line] specifies the number of columns in the OTN frame on   */
/*            the line side                                         */
/*     239 - 231                                                    */
/*                                                                  */
/*   [Q_line] specifies the number of columns in the payload on the */
/*            line side                                             */
/*     237 - 238                                                    */
/*                                                                  */
/*   [P_client] specifies the number of columns in the OTN frame on */
/*              the client side                                     */
/*     239 - 231                                                    */
/*                                                                  */
/*   [Q_client] specifies the number of columns in the payload on   */
/*              the client side                                     */
/*     237 - 238                                                    */
/*                                                                  */
/*   [line_client_same] is used for 10G/40G transponder applications*/
/*   to indicate line and client type are identical - for syncdsync */
/*   to be programmed 1:1                                           */
/*     0 - line and client type are different                       */
/*     1 - line and client type are identical                       */
/*                                                                  */
/*   [line_client_rate_equal] is used in conjunction with           */
/*   line_client_same parameter to indicate presence of FECs on     */
/*   and clinet side if line and cline ttype are identical          */
/*     0 - line and client data rates are different                 */
/*     1 - line and client data rates are identical                 */
/*                                                                  */
/* NOTE: Not all the parameters passed in this API are needed for   */
/*       every configuration.  Parameters that are not need can be  */
/*       passed in as any value, e.g. 0xFFFF                        */
/*                                                                  */
/* $rtn_hdr_end                                                     */
/********************************************************************/
{
  ten_dev_cb_t *pdevcb;

  pdevcb = TEN_DEV_ID_TO_DEVCB_PTR(dev_id);

  pdevcb->syncdsync_thread_cb[slice_client].num_just_oxu2 = num_just_oxu2;
  pdevcb->syncdsync_thread_cb[slice_client].num_pjo_oxu2  = num_pjo_oxu2;
  pdevcb->syncdsync_thread_cb[slice_client].P_line   = P_line;
  pdevcb->syncdsync_thread_cb[slice_client].Q_line   = Q_line;
  pdevcb->syncdsync_thread_cb[slice_client].P_client = P_client;
  pdevcb->syncdsync_thread_cb[slice_client].Q_client = Q_client;
  pdevcb->syncdsync_thread_cb[slice_client].line_client_same = line_client_same;
  pdevcb->syncdsync_thread_cb[slice_client].line_client_rate_equal = line_client_rate_equal;

  return CS_OK;
}

/********************************************************************/
/* $rtn_hdr_start  SYNCDSYNC SET CONTROL BLOCK 40G MUX PARAMETERS   */
/* CATEGORY   : API                                                 */
/* ACCESS     : Public                                              */
/* BLOCK      : HIGH LEVEL                                          */
/* CHIP       : Tenabo                                              */
cs_status ten_syncdsync_thread_set_cb_40g_muxponder(cs_uint16 dev_id,
                                                    cs_uint8 slice_client,
                                                    cs_int16 num_just_oxu2,
                                                    cs_uint8 num_pjo_oxu2,
                                                    cs_int16 num_just_oxu3,
                                                    cs_uint8 num_pjo_oxu3,
                                                    cs_uint16 P_line,
                                                    cs_uint16 Q_line,
                                                    cs_uint16 P_client,
                                                    cs_uint16 Q_client)
/* INPUTS     : o Device Id                                         */
/*              o Client Slice                                      */
/*              o 0xU2 Justification Bytes (C15 / FS)               */
/*              o 0xU2 PJO                                          */
/*              o 0xU3 Justification Bytes (C15 / FS)               */
/*              o 0xU3 PJO                                          */ 
/*              o Line Numerator (P)                                */
/*              o Line Denominator (Q)                              */
/*              o Client Numenrator (P)                             */
/*              o Client Denominator (Q)                            */
/* OUTPUTS    : ----                                                */
/* RETURNS    : CS_OK or CS_ERROR                                   */
/* DESCRIPTION:                                                     */
/* Writes the syncdsync parameters for 40G muxponder applications   */
/* to the syncdsync control block                                   */
/*                                                                  */
/*   [num_just_oxu2] specifies the number of justification bytes -  */
/*                   C15 of FS (client -> OxU2)                     */
/*                                                                  */
/*   [num_pjo_oxu2] specifies the number of positive justification  */
/*                  bytes (client -> OxU2)                          */
/*     0 - 6                                                        */
/*                                                                  */
/*   [num_just_oxu3] specifies the number of justification bytes -  */
/*                   C15 of FS (OxU2 -> OxU3)                       */
/*                                                                  */
/*   [num_pjo_oxu3] specifies the number of positive justification  */
/*                  bytes (OxU2 -> OxU3)                            */
/*     0 - 6                                                        */
/*                                                                  */
/*   [P_line] specifies the number of columns in the OTN frame on   */
/*            the line side                                         */
/*     239 - 231                                                    */
/*                                                                  */
/*   [Q_line] specifies the number of columns in the payload on the */
/*            line side                                             */
/*     237 - 238                                                    */
/*                                                                  */
/*   [P_client] specifies the number of columns in the OTN frame on */
/*              the client side                                     */
/*     239 - 231                                                    */
/*                                                                  */
/*   [Q_client] specifies the number of columns in the payload on   */
/*              the client side                                     */
/*     237 - 238                                                    */
/*                                                                  */
/* NOTE: Not all the parameters passed in this API are needed for   */
/*       every configuration.  Parameters that are not need can be  */
/*       passed in as any value, e.g. 0xFFFF                        */
/*                                                                  */
/* $rtn_hdr_end                                                     */
/********************************************************************/
{
  ten_dev_cb_t *pdevcb;

  pdevcb = TEN_DEV_ID_TO_DEVCB_PTR(dev_id);

  pdevcb->syncdsync_thread_cb[slice_client].num_just_oxu2 = num_just_oxu2;
  pdevcb->syncdsync_thread_cb[slice_client].num_pjo_oxu2  = num_pjo_oxu2;
  pdevcb->syncdsync_thread_cb[slice_client].num_just_oxu3 = num_just_oxu3;
  pdevcb->syncdsync_thread_cb[slice_client].num_pjo_oxu3  = num_pjo_oxu3;
  pdevcb->syncdsync_thread_cb[slice_client].P_line   = P_line;
  pdevcb->syncdsync_thread_cb[slice_client].Q_line   = Q_line;
  pdevcb->syncdsync_thread_cb[slice_client].P_client = P_client;
  pdevcb->syncdsync_thread_cb[slice_client].Q_client = Q_client;

  return CS_OK;
}

/*******************************************************************/
/* Miscellaneous functions */
/*******************************************************************/
void long_multiply (cs_uint32 num1, cs_uint32 num2) {
  register long a, b, c, d;
  register long x, y;
  register long LO, HI;

  a = (num1 >> 16) & 0xffff;
  b = num1 & 0xffff;
  c = (num2 >> 16) & 0xffff;
  d = num2 & 0xffff;

  LO = b * d;                   /* BD */
  x = a * d + c * b;            /* AD + CB */
  y = ((LO >> 16) & 0xffff) + x;

  LO = (LO & 0xffff) | ((y & 0xffff) << 16);
  HI = (y >> 16) & 0xffff;

  HI += a * c;                  /* AC */

  low_word = LO; 
  hi_word = HI;
}

cs_uint32 _ten_floor (cs_float y) {
  y =  (cs_float)((y < 0.0) ? y-0.5 : y);
  return ((cs_uint32)y);
}

